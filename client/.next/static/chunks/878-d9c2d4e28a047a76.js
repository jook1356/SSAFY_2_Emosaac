"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[878],{6878:function(n,t,e){e.d(t,{Z:function(){return no}});var i=e(7297),o=e(4288),r=e(917),l=e(7294),c=e(3750),u=e(1163),a=e(6441),s=e(6167);function d(){let n=(0,i.Z)(["\n              display: flex;\n              flex-direction: column;\n              align-items: end;\n              justify-content: space-between;\n            "]);return d=function(){return n},n}function p(){let n=(0,i.Z)(["var(--back-color-2)"]);return p=function(){return n},n}function f(){let n=(0,i.Z)(["\n    position: absolute;\n    z-index: 999999;\n    transition-property: width height;\n    will-change: width height left top opacity transform;\n    transition-duration: 0.3s;\n    /* transition-timing-function: ease-in; */\n    overflow: hidden;\n\n    top: ","px;\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n    /* background-color: white; */\n    background-color: ",";\n    border-radius: 10px;\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n  "]);return f=function(){return n},n}function h(){let n=(0,i.Z)(["\n    opacity: ",";\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  "]);return h=function(){return n},n}function v(){let n=(0,i.Z)(['\n    width: 110%;\n    position: absolute;\n    left: -5%;\n    top: -5%;\n    height: 370px;\n    background: no-repeat url("','") 0 / cover;\n    filter: blur(10px);\n    -webkit-filter: blur(10px);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n  ']);return v=function(){return n},n}function g(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 370px;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(rgba(0, 0, 0, 0), var(--back-color-2));\n  /* pointer-events: none; */\n"]);return g=function(){return n},n}function x(){let n=(0,i.Z)(["\n    cursor: pointer;\n    will-change: width height transform;\n    transition-property: width height opacity transform;\n    transition-duration: 0.3s;\n    ",";\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.5);\n    width: auto;\n    height: ",";\n    min-height: ",";\n  "]);return x=function(){return n},n}function m(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 370px;\n"]);return m=function(){return n},n}function b(){let n=(0,i.Z)(["\n  flex: 1 0 auto;\n  padding: 24px;\n  display: flex;\n  justify-content: space-between;\n  /* flex-direction: column; */\n"]);return b=function(){return n},n}function w(){let n=(0,i.Z)(["\n  font-size: 24px;\n  font-weight: 700;\n  color: var(--text-color);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return w=function(){return n},n}function Z(){let n=(0,i.Z)(["\n  font-size: 13px;\n  /* margin-top: 8px; */\n  color: var(--text-color-4);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return Z=function(){return n},n}function k(){let n=(0,i.Z)(["\n  /* background-color: white; */\n  color: var(--text-color-4);\n  width: 52px;\n  height: 52px;\n  cursor: pointer;\n\n  transition-property: color;\n  transition-duration: 0.3s;\n\n  &:hover {\n    color: var(--text-color-3);\n  }\n"]);return k=function(){return n},n}function y(){let n=(0,i.Z)(["\n  margin-top: 6px;\n  margin-bottom: 6px;\n"]);return y=function(){return n},n}function C(){let n=(0,i.Z)(["\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  width: 80%;\n"]);return C=function(){return n},n}function B(){let n=(0,i.Z)([""]);return B=function(){return n},n}let R=n=>{let{modalToggler:t,isMouseOn:e,setModalToggler:i,bookData:p,parentRef:f,imgHeight:h,imgMinHeight:v}=n,g=(0,l.useRef)(null),[x,m]=(0,l.useState)(!1),[b,w]=(0,l.useState)(!1),[Z,k]=(0,l.useState)(!1),y=(0,u.useRouter)(),C={widthValue:380,heightValue:520};(0,l.useEffect)(()=>{!0===e&&!0===t&&(m(()=>!0),w(()=>!0))},[]),(0,l.useEffect)(()=>(window.addEventListener("wheel",R),()=>{window.removeEventListener("wheel",R)}),[]);let B=()=>{!0===e&&!0===x?(setTimeout(function(){null!==g.current&&(g.current.style.opacity="0")},100),setTimeout(function(){i(()=>!1)},500)):i(()=>!1),m(()=>!1),k(()=>!0)},R=()=>{null!==g.current&&(g.current.style.width=f.current.clientWidth+"px",g.current.style.height=f.current.clientHeight+"px",g.current.style.left=f.current.getBoundingClientRect().left+"px",setTimeout(function(){null!==g.current&&(g.current.style.top=f.current.getBoundingClientRect().top+"px",g.current.style.opacity="0")},200))},z=()=>{y.push("/books/".concat(p.bookId))};return(0,o.tZ)("div",{onMouseLeave:B,onMouseMove:n=>{n.stopPropagation()},ref:g,css:M({modalToggler:x,parentRef:f,wrapperRef:g,widthValue:C.widthValue,heightValue:C.heightValue}),children:(0,o.BX)("div",{css:S({modalToggler:t,contentToggler:x,isOpened:b}),children:[(0,o.tZ)("div",{css:_({imgUrl:p.thumbnail})}),(0,o.tZ)("div",{css:j,children:(0,o.tZ)("img",{src:p&&p.thumbnail,alt:p&&p.title,css:T({modalToggler:x,isClosing:Z,imgHeight:h,imgMinHeight:v}),onClick:z})}),(0,o.tZ)("div",{css:N}),(0,o.BX)("div",{css:O,children:[(0,o.BX)("div",{className:"book-info",css:X,children:[(0,o.tZ)("div",{css:E,children:p.title}),(0,o.BX)("div",{css:I,children:[(0,o.tZ)("div",{css:W,children:p&&(0,o.tZ)(a.Z,{readonly:!0,initialValue:p.avgScore})}),p&&(0,o.tZ)(s.Z,{tag:p.tag,identifier:"".concat(p.bookId)})]})]}),(0,o.BX)("div",{css:(0,r.iv)(d()),children:[(0,o.tZ)("div",{css:H,children:p.regist}),(0,o.tZ)(c.gtS,{css:V,onClick:z})]})]})]})})},M=n=>{var t,e,i,o,l,c,u,a,s,d,h,v,g;let{modalToggler:x,parentRef:m,wrapperRef:b,widthValue:w,heightValue:Z}=n,k=(w-(null==m?void 0:null===(t=m.current)||void 0===t?void 0:t.clientWidth))/2>=(null==m?void 0:null===(e=m.current)||void 0===e?void 0:e.getBoundingClientRect().left),y=(null==m?void 0:null===(i=m.current)||void 0===i?void 0:i.getBoundingClientRect().left)+(w-(w-(null==m?void 0:null===(o=m.current)||void 0===o?void 0:o.clientWidth))/2)>=document.body.offsetWidth,C="left: ".concat(x&&!0===k?"42":(null==m?void 0:null===(l=m.current)||void 0===l?void 0:l.getBoundingClientRect().left)-(w-(null==m?void 0:null===(c=m.current)||void 0===c?void 0:c.clientWidth))/2,"px;"),B="left: ".concat(x&&!0===y?document.body.offsetWidth-w-42:null==m?void 0:null===(u=m.current)||void 0===u?void 0:u.getBoundingClientRect().left,"px");return(0,r.iv)(f(),x?(null==m?void 0:null===(a=m.current)||void 0===a?void 0:a.getBoundingClientRect().top)-(Z-(null==m?void 0:null===(s=m.current)||void 0===s?void 0:s.clientHeight))/2:null==m?void 0:null===(d=m.current)||void 0===d?void 0:d.getBoundingClientRect().top,x?"".concat(w,"px"):"".concat(null==m?void 0:null===(h=m.current)||void 0===h?void 0:h.clientWidth,"px"),x?"".concat(Z,"px"):"".concat(null==m?void 0:null===(v=m.current)||void 0===v?void 0:v.clientHeight,"px"),x?!0===y?B:C:"left: ".concat(null==m?void 0:null===(g=m.current)||void 0===g?void 0:g.getBoundingClientRect().left,"px"),x?"pointer-events: auto":"pointer-events: none",x?(0,r.iv)(p()):"rgba(0,0,0,0)")},S=n=>{let{modalToggler:t,contentToggler:e,isOpened:i}=n;return(0,r.iv)(h(),e?"255":i?"255":"0")},_=n=>{let{imgUrl:t}=n;return(0,r.iv)(v(),t)},j=(0,r.iv)(g()),T=n=>{let{modalToggler:t,isClosing:e,imgHeight:i,imgMinHeight:o}=n;return(0,r.iv)(x(),t?"transform: scale(1.0)":e?"transform: scale(1.0)":"transform: scale(1.1)",t?"370px":i,o)},N=(0,r.iv)(m()),O=(0,r.iv)(b()),E=(0,r.iv)(w()),H=(0,r.iv)(Z()),V=(0,r.iv)(k()),W=(0,r.iv)(y()),X=(0,r.iv)(C()),I=(0,r.iv)(B());var z=e(363),L=e(4932),A=e(6486);function P(){let n=(0,i.Z)(["\n    ",";\n    position: relative;\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n    content-visibility: auto;\n  "]);return P=function(){return n},n}function D(){let n=(0,i.Z)(["\n  position: absolute;\n  z-index: 10;\n  top: 0;\n  display: block;\n  margin-right: 6px;\n  text-align: center;\n  font-weight: bold;\n  padding: ",";\n  height: ",";\n  line-height: ",";\n  font-size: ",";\n  border-radius: 9px 0px 9px 0px;\n  background-color: ",";\n  color: ",";\n"]);return D=function(){return n},n}function G(){let n=(0,i.Z)(["\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n    position: relative;\n    overflow: hidden;\n    border-radius: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]);return G=function(){return n},n}function q(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 2vw;\n  min-height: 32px;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  bottom: 0;\n  pointer-events: none;\n\n  display: flex;\n  align-items: center;\n"]);return q=function(){return n},n}function F(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s;\n  &:hover {\n    transform: scale(1.1);\n  }\n"]);return F=function(){return n},n}function U(){let n=(0,i.Z)(["\n    width: 100%;\n    height: 100%;\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    border-radius: 10px;\n    background-color: rgb(200, 200, 200);\n    position: absolute;\n    opacity: ",";\n    pointer-events: none;\n  "]);return U=function(){return n},n}function J(){let n=(0,i.Z)(["\n  width: 1.3vw;\n  min-width: 20px;\n  height: auto;\n  margin: 10px;\n"]);return J=function(){return n},n}let K=n=>{var t;let{bookData:e,showPlatform:i,width:r,height:c,minWidth:a,minHeight:s,margin:d}=n,[p,f]=(0,l.useState)(null);(0,l.useEffect)(()=>{f(()=>navigator.userAgent)},[]);let[h,v,g]=(0,L.j)(),x=()=>{let n=!1;return(void 0!==p&&p.length>0&&p.indexOf("iPhone")>-1||p.indexOf("Android")>-1||p.indexOf("iPad")>-1||p.indexOf("iPod")>-1)&&(n=!0),n},m=(0,u.useRouter)(),b=(0,l.useRef)(null),[w,Z]=(0,l.useState)(!1),[k,y]=(0,l.useState)(!1),C=["https://comic.naver.com/","https://series.naver.com/","https://page.kakao.com/","https://ridibooks.com/"],B=()=>{Z(()=>!0),y(()=>!0)},M=()=>{y(()=>!1),setTimeout(function(){Z(()=>!1)},500)},S=()=>{!0===x()&&m.push("/books/".concat(e.bookId))},_=null==e?void 0:null===(t=e.href)||void 0===t?void 0:t.split(" ").map((n,t)=>{let i=t=>{if(n.includes(t))return!0},r=C.findIndex(i);return(0,o.tZ)("img",{src:0===r&&"/assets/platform_naver_webtoon.webp"||1===r&&"/assets/platform_naver_series.webp"||2===r&&"/assets/platform_kakao_page.png"||3===r&&"/assets/platform_ridi.webp"||"",css:ni},"BookCard-".concat(e.bookId,"-platform-").concat(r))}),j=(0,o.tZ)(z.Z,{selector:".overlay-root",children:(0,o.tZ)(R,{modalToggler:w,isMouseOn:k,setModalToggler:Z,bookData:e,parentRef:b,imgHeight:c,imgMinHeight:s})}),T=(0,o.tZ)("div",{css:nn,children:e.href&&_}),[N,O]=(0,l.useState)(!1),E=(0,l.useMemo)(()=>(0,A.debounce)(n=>{!0===n?B():M()},250),[]);return(0,o.BX)("div",{className:"bookcard-outer-wrapper",css:Q({width:r,height:c,minWidth:a,minHeight:s,margin:d}),ref:b,onClick:S,onMouseMove:()=>{E(!0)},onMouseEnter:()=>{E(!0)},onWheel:()=>{E(!1)},onMouseLeave:()=>{E(!1),M(),O(()=>!1)},children:[null!==p&&!1===x()&&w&&j,(0,o.tZ)("div",{css:Y(0===e.typeCd,h),children:e&&0===e.typeCd?"웹툰":"웹소설"}),(0,o.BX)("div",{className:"bookcard-inner-wrapper",css:$({width:r,height:c,minWidth:a,minHeight:s}),children:[(0,o.tZ)("div",{css:ne({state:"LOADING"!==e})}),(0,o.tZ)("img",{className:"img",src:e&&e.thumbnail,alt:e&&e.title,css:nt}),i&&"LOADING"!==e&&T]})]})},Q=n=>{let{width:t,height:e,minWidth:i,minHeight:o,margin:l}=n;return(0,r.iv)(P(),l&&"margin: ".concat(l),void 0!==t?t:"auto",void 0!==e?e:"100%",i&&"min-width: ".concat(i),o&&"min-height: ".concat(o))},Y=(n,t)=>(0,r.iv)(D(),t?"0 10px":"0 6px",t?"32px":"25px",t?"32px":"25px",t?"14px":"12px",n?"var(--main-color)":"#fff",n?"#fff":"var(--main-color)"),$=n=>{let{width:t,height:e,minWidth:i,minHeight:o}=n;return(0,r.iv)(G(),void 0!==t?t:"auto",void 0!==e?e:"100%",i&&"min-width: ".concat(i),o&&"min-height: ".concat(o))},nn=(0,r.iv)(q()),nt=(0,r.iv)(F()),ne=n=>{let{state:t}=n;return(0,r.iv)(U(),t?"0":"255")},ni=(0,r.iv)(J());var no=K},6441:function(n,t,e){var i=e(5893),o=e(7294),r=e(3773);let l=n=>{let{onClick:t,readonly:e,size:l,initialValue:c=0}=n,[u,a]=(0,o.useState)(c),s=n=>{a(2*n),t(2*n)};return(0,i.jsx)("div",{className:"App",children:(0,i.jsx)(r.i,{onClick:s,transition:!0,allowFraction:!0,initialValue:u/2,allowHover:!0,readonly:e,size:l},u)})};t.Z=l},6167:function(n,t,e){var i=e(7297),o=e(4288),r=e(917);function l(){let n=(0,i.Z)(["\n  position: relative;\n  height: 16px;\n"]);return l=function(){return n},n}function c(){let n=(0,i.Z)(["\n  display: flex;\n  position: absolute;\n  /* margin-top: 12px; */\n  width: 110%;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  padding-left: 50px;\n  /* padding-right: -20px; */\n  margin-left: -50px;\n  -webkit-mask-image: linear-gradient(\n    to right,\n    rgba(0, 0, 0, 0) 0%,\n    var(--back-color) 5%,\n    var(--back-color) 90%,\n    rgba(0, 0, 0, 0) 100%\n  );\n  mask-image: linear-gradient(\n    to right,\n    rgba(0, 0, 0, 0) 0%,\n    var(--back-color) 5%,\n    var(--back-color) 90%,\n    rgba(0, 0, 0, 0) 100%\n  );\n\n  &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari, Opera*/\n  }\n"]);return c=function(){return n},n}function u(){let n=(0,i.Z)(["\n  /* border-radius: 20px; */\n  /* background-color: var(--main-color); */\n  /* padding: 14px; */\n  margin-right: 14px;\n  /* margin-bottom: 14px; */\n  color: black;\n  white-space: pre;\n  color: var(--text-color-4);\n"]);return u=function(){return n},n}let a=n=>{let{identifier:t,tag:e}=n,i=null==e?void 0:e.split(" ").map((n,e)=>{if(""!==n.trim())return(0,o.BX)("div",{css:p,children:["#",n,","]},"".concat(t,"-").concat(n))});return(0,o.tZ)("div",{css:s,children:(0,o.tZ)("div",{css:d,children:i})})},s=(0,r.iv)(l()),d=(0,r.iv)(c()),p=(0,r.iv)(u());t.Z=a},363:function(n,t,e){var i=e(3935);let o=n=>{let{children:t,selector:e}=n,o=document.querySelector(e);return o&&t?i.createPortal(t,o):null};t.Z=o}}]);