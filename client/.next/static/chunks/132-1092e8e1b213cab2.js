"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[132],{8932:function(n,t,e){var r=e(7297),i=e(4288),o=e(917),l=e(4932);function c(){let n=(0,r.Z)(["\n    width: 100%;\n    height: 36px;\n    position: relative;\n    display: flex;\n    align-items: center;\n    margin-bottom: ",";\n  "]);return c=function(){return n},n}function u(){let n=(0,r.Z)(["\n  width: 100%;\n  height: 1px;\n  background-color: var(--border-color-2);\n"]);return u=function(){return n},n}function s(){let n=(0,r.Z)(["\n  position: absolute;\n  background-color: var(--back-color);\n  padding: 12px;\n  /* left: 1%; */\n"]);return s=function(){return n},n}function a(){let n=(0,r.Z)(["\n    font-size: ",";\n    color: var(--text-color);\n  "]);return a=function(){return n},n}function h(){let n=(0,r.Z)(["\n    font-size: ",";\n    color: #ff6565;\n  "]);return h=function(){return n},n}let d=n=>{let{beforeLabel:t,highlightedLabel:e,afterLabel:r,noLine:o,marginBottom:c}=n,[u,s,a]=(0,l.j)();return(0,i.BX)("div",{css:f({marginBottom:c}),children:[!0!==o&&(0,i.tZ)("div",{css:g}),(0,i.BX)("div",{css:p,children:[(0,i.tZ)("span",{css:v({isMobile:a}),children:t}),(0,i.tZ)("span",{css:w({isMobile:a}),children:e}),(0,i.tZ)("span",{css:v({isMobile:a}),children:r})]})]})},f=n=>{let{marginBottom:t}=n;return(0,o.iv)(c(),void 0!==t?t:"24px")},g=(0,o.iv)(u()),p=(0,o.iv)(s()),v=n=>{let{isMobile:t}=n;return(0,o.iv)(a(),t?"16px":"28px")},w=n=>{let{isMobile:t}=n;return(0,o.iv)(h(),t?"24px":"36px")};t.Z=d},2132:function(n,t,e){e.d(t,{Z:function(){return F}});var r=e(7297),i=e(4288),o=e(917),l=e(4932),c=e(7294),u=e(8932),s=e(6486),a=e(6878);function h(){let n=(0,r.Z)(["\n    padding-left: ",";\n    padding-right: ",";\n  "]);return h=function(){return n},n}function d(){let n=(0,r.Z)(["\n  width: 100%;\n  position: relative;\n"]);return d=function(){return n},n}function f(){let n=(0,r.Z)(["\n  display: flex;\n  width: 100%;\n  /* padding-left: 48px; */\n  box-sizing: border-box;\n  overflow-x: scroll;\n  border-radius: 10px;\n  content-visibility: auto;\n\n  &::-webkit-scrollbar {\n    display: none;\n  }\n"]);return f=function(){return n},n}function g(){let n=(0,r.Z)(["\n  z-index: 9;\n  position: absolute;\n\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 48px;\n  font-weight: 700;\n  color: var(--text-color);\n  padding-left: 8px;\n  padding-right: 8px;\n\n  transition-property: background font-size;\n  transition-duration: 0.2s;\n  cursor: pointer;\n  user-select: none;\n\n  @media (max-width: 480px) {\n    display: none;\n  }\n"]);return g=function(){return n},n}function p(){let n=(0,r.Z)(["\n    left: 0;\n    /* background: linear-gradient(to right, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0)); */\n    transform: ",";\n    &:hover {\n      /* background: linear-gradient(to right, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0)); */\n      font-size: 54px;\n    }\n  "]);return p=function(){return n},n}function v(){let n=(0,r.Z)(["\n    right: 0;\n    /* background: linear-gradient(to left, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0)); */\n    transform: ",";\n    &:hover {\n      /* background: linear-gradient(to left, rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0)); */\n      font-size: 54px;\n    }\n  "]);return v=function(){return n},n}let w=n=>{let{API:t,identifier:e,setNoData:r}=n,o=(0,c.useRef)(null),u=(0,c.useRef)([]),[h,d]=(0,c.useState)([]),[f,g]=(0,c.useState)([]),[p,v]=(0,c.useState)(0),[w,k]=(0,c.useState)(0),[y,z]=(0,c.useState)(0),[L,W]=(0,c.useState)(10),[N,M]=(0,c.useState)(Array(9).fill("LOADING")),[I,E,O]=(0,l.j)(),[B,J]=(0,c.useState)(!window.sessionStorage.getItem("".concat(e,"-horizontal-inf_has_next"))||JSON.parse(String(window.sessionStorage.getItem("".concat(e,"-horizontal-inf_has_next"))))),j={width:"10vw",height:"15vw",minWidth:"150px",minHeight:"225px",padding:"0.5vw"},C=n=>{if(null===o.current||o.current.clientWidth===w)return p+n;{let t=o.current.clientWidth,e=Math.floor(o.current.clientWidth/u.current[0].clientWidth),r=Math.ceil(y/e);return v(()=>r),k(()=>t),W(()=>e),r+n}},P=()=>{if(null!==o.current){let n=Math.floor(o.current.clientWidth/u.current[0].clientWidth),t=C(1)*n,e=t<u.current.length?t:u.current.length-1;t<u.current.length&&v(n=>n+1),u.current[e]&&(z(()=>e),o.current.scrollTo({left:u.current[e].offsetLeft,top:0,behavior:"smooth"})),A()}},X=()=>{if(null!==o.current){let n=Math.floor(o.current.clientWidth/u.current[0].clientWidth),t=C(-1)*n,e=t>=0?t:0;t>=0&&v(n=>n-1),z(()=>e),o.current.scrollTo({left:u.current[e].offsetLeft,top:0,behavior:"smooth"})}},A=()=>{let n=0;if(null!==o.current&&null!==u.current[0]){var i;n=Math.ceil(o.current.scrollLeft/(null===(i=u.current[0])||void 0===i?void 0:i.clientWidth))}if((null!==o.current&&o.current.scrollWidth-o.current.scrollLeft-200<o.current.clientWidth||h.length-N.length-n<=N.length)&&!0===B){let n=h[h.length-1];t({lastContent:n,size:L}).then(n=>{0===n.content.length&&0===h.length&&r(()=>!0),console.log(n);let t=[...h,...n.content];d(n=>t),window.sessionStorage.setItem("".concat(e,"-horizontal-inf_fetched_data"),JSON.stringify(t)),window.sessionStorage.setItem("".concat(e,"-horizontal-inf_has_next"),JSON.stringify(n.hasNext)),J(()=>n.hasNext)})}},R=(0,c.useMemo)(()=>(0,s.throttle)(()=>{if(null!==o.current){A();let n=Math.ceil(o.current.scrollLeft/u.current[0].clientWidth);z(()=>n),0!==o.current.scrollLeft&&window.sessionStorage.setItem("".concat(e,"-horizontal-recent_scroll"),String(o.current.scrollLeft))}},300),[h,d]);(0,c.useEffect)(()=>{let n=window.sessionStorage.getItem("".concat(e,"-horizontal-inf_fetched_data")),t=window.sessionStorage.getItem("".concat(e,"-horizontal-inf_has_next"));n?(d(()=>JSON.parse(n)),J(()=>JSON.parse(String(t)))):A()},[]),(0,c.useEffect)(()=>{let n=window.sessionStorage.getItem("".concat(e,"-horizontal-recent_scroll"));n&&o.current&&o.current.scrollTo(Number(JSON.parse(n)),0)},[u.current.length]);let T=()=>{!0===B?g(()=>[...h,...N]):g(()=>[...h])};(0,c.useEffect)(()=>{T()},[h]);let D=(0,c.useMemo)(()=>f.map((n,t)=>(0,i.tZ)("div",{ref:n=>u.current[t]=n,css:x({padding:j.padding}),children:(0,i.tZ)(a.Z,{bookData:n,showPlatform:!0,width:j.width,height:j.height,minWidth:j.minWidth,minHeight:j.minHeight})},"".concat(e,"-").concat(t))),[f]);return(0,i.BX)("div",{css:Z,children:[(0,i.tZ)("div",{css:[m,S({isDeskTop:I,isTablet:E,isMobile:O})],onClick:X,onMouseEnter:n=>{n.stopPropagation()},children:"〈"}),(0,i.tZ)("div",{css:[m,_({isDeskTop:I,isTablet:E,isMobile:O})],onClick:P,onMouseEnter:n=>{n.stopPropagation()},children:"〉"}),(0,i.tZ)("div",{ref:o,css:b,onWheel:R,onTouchMove:R,children:D})]})},x=n=>{let{padding:t}=n;return(0,o.iv)(h(),t,t)},Z=(0,o.iv)(d()),b=(0,o.iv)(f()),m=(0,o.iv)(g()),S=n=>{let{isDeskTop:t,isTablet:e,isMobile:r}=n;return(0,o.iv)(p(),!0===t&&"translate(-105px, 0px)"||!0===e&&"translate(-50px, 0px)")},_=n=>{let{isDeskTop:t,isTablet:e,isMobile:r}=n;return(0,o.iv)(v(),!0===t&&"translate(105px, 0px)"||!0===e&&"translate(50px, 0px)")};function k(){let n=(0,r.Z)(["\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return k=function(){return n},n}function y(){let n=(0,r.Z)(["\n  width: 100%;\n  height: auto;\n"]);return y=function(){return n},n}function z(){let n=(0,r.Z)(["\n  width: 100%;\n  height: 3vw;\n  min-height: 24px;\n"]);return z=function(){return n},n}function L(){let n=(0,r.Z)(["\n  width: 100%;\n  height: 7vw;\n  min-height: 72px;\n"]);return L=function(){return n},n}function W(){let n=(0,r.Z)(["\n  width: 100%;\n  overflow: hidden;\n"]);return W=function(){return n},n}function N(){let n=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]);return N=function(){return n},n}function M(){let n=(0,r.Z)(["\n  width: 100%;\n  /* overflow: hidden; */\n  border-radius: 10px; ;\n"]);return M=function(){return n},n}let I=n=>{let{el:t}=n,[e,r]=(0,c.useState)(!1);return!1===e?(0,i.BX)(c.Fragment,{children:[(0,i.tZ)("div",{css:E}),(0,i.tZ)(u.Z,{beforeLabel:t.beforeLabel,highlightedLabel:t.highlightedLabel,afterLabel:null==t?void 0:t.afterLabel}),(0,i.tZ)("div",{css:O,children:(0,i.tZ)(w,{API:t.API,identifier:t.identifier,setNoData:r})}),(0,i.tZ)("div",{css:E})]}):(0,i.tZ)("div",{})};(0,o.iv)(k()),(0,o.iv)(y());let E=(0,o.iv)(z());(0,o.iv)(L()),(0,o.iv)(W()),(0,o.iv)(N());let O=(0,o.iv)(M());function B(){let n=(0,r.Z)(["\n  width: 100%;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return B=function(){return n},n}function J(){let n=(0,r.Z)(["\n  width: 100%;\n  height: auto;\n"]);return J=function(){return n},n}function j(){let n=(0,r.Z)(["\n  width: 100%;\n  height: 3vw;\n  min-height: 24px;\n"]);return j=function(){return n},n}function C(){let n=(0,r.Z)(["\n  width: 100%;\n  height: 7vw;\n  min-height: 72px;\n"]);return C=function(){return n},n}function P(){let n=(0,r.Z)(["\n  width: 100%;\n  overflow: hidden;\n"]);return P=function(){return n},n}function X(){let n=(0,r.Z)(["\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]);return X=function(){return n},n}function A(){let n=(0,r.Z)(["\n  width: 100%;\n  /* overflow: hidden; */\n  border-radius: 10px; ;\n"]);return A=function(){return n},n}function R(){let n=(0,r.Z)(["\n    width: calc(100% - ","px);\n    /* margin: 0px 105px; */\n  "]);return R=function(){return n},n}let T=n=>{let{fetchList:t,myInfo:e}=n,[r,o,u]=(0,l.j)();(0,c.useRef)(null);let s=t.map((n,r)=>{if(!0===n.requireLogin&&!1!==e||!1===n.requireLogin)return(0,i.BX)(c.Fragment,{children:[(0,i.tZ)(I,{el:n}),Math.ceil(t.length/2)===r&&(0,i.tZ)("img",{src:!0===u?"/assets/content_banner_mobile.png":"/assets/content_banner_desktop_tablet.png",alt:"",css:H})]},"sortByRows-".concat(n.identifier))});return(0,i.tZ)("div",{css:D,children:(0,i.tZ)("div",{css:q({isDeskTop:r,isTablet:o,isMobile:u}),children:s})})},D=(0,o.iv)(B()),H=(0,o.iv)(J());(0,o.iv)(j()),(0,o.iv)(C()),(0,o.iv)(P()),(0,o.iv)(X()),(0,o.iv)(A());let q=n=>{let{isDeskTop:t,isTablet:e,isMobile:r}=n;return(0,o.iv)(R(),t&&210||e&&100||r&&0)};var F=T}}]);