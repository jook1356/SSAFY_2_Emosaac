(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[902],{8:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/search/content",function(){return n(3337)}])},3247:function(e,t,n){"use strict";n.d(t,{R:function(){return i}});var o=n(7908);async function i(e){let{type:t,content:n,prevId:i,prevScore:r,size:l,token:a}=e;try{let e={};a&&(e.Authorization=a);let{data:c}=await o.EC.get("/search/title/".concat(t,"/").concat(n,"?prevId=").concat(i,"&prevScore=").concat(r,"&size=").concat(l),{headers:e});if(200===c.status)return c.data;return null}catch(e){return console.log(e),null}}},523:function(e,t,n){"use strict";n.d(t,{y:function(){return p}});var o=n(7297),i=n(4288),r=n(917),l=n(7294),a=n(6878),c=n(6486),s=n(4932),u=n(1163);function d(){let e=(0,o.Z)(["\n    padding-top: 20px;\n    display: grid;\n    ","\n    ","\n    column-gap: 20px;\n    row-gap: 30px;\n  "]);return d=function(){return e},e}let p=e=>{let{books:t,type:n,getSearchBooks:o,booksWrapRef:r,prevId:d,prevScore:p,isPageEnd:v}=e;(0,u.useRouter)();let[h,g,y]=(0,s.j)(),[m,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{!0===m&&(x(()=>!1),o(d,p))},[m]);let k=(0,l.useMemo)(()=>(0,c.throttle)(e=>{let t=document.getElementsByTagName("html")[0];!1===v&&t&&t.clientHeight+t.scrollTop+200>t.scrollHeight&&x(()=>!0)},300),[t]);return(0,i.tZ)("div",{css:f({isDeskTop:h,isTablet:g,isMobile:y}),onWheel:k,onTouchMove:k,children:t&&t.map((e,t)=>(0,i.tZ)(a.Z,{bookData:e,showPlatform:!0,width:"100%"},t))})},f=e=>{let{isDeskTop:t,isTablet:n,isMobile:o}=e;return(0,r.iv)(d(),o&&"grid-template-columns: repeat(3, 1fr);",!o&&"grid-template-columns: repeat(5, 1fr);")}},1004:function(e,t){"use strict";t.Z=function(e){let t=e.charCodeAt(e.length-1);return 0==(t-44032)%28?"가":"이"}},3337:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSP:function(){return N}});var o=n(7297),i=n(4288),r=n(917),l=n(1163),a=n(7294),c=n(3247),s=n(4932),u=n(523),d=n(1017),p=n(1004);function f(){let e=(0,o.Z)(["\n  padding-top: 40px;\n  font-weight: bold;\n"]);return f=function(){return e},e}function v(){let e=(0,o.Z)(["\n    ","\n    ","\n      ","\n  "]);return v=function(){return e},e}function h(){let e=(0,o.Z)(["\n    ","\n    ","\n      ","\n  "]);return h=function(){return e},e}function g(){let e=(0,o.Z)(["\n    ","\n    ","\n    font-size: 34px;\n    background-color: var(--back-color-2);\n    padding-top: 20px;\n    padding-bottom: 20px;\n  "]);return g=function(){return e},e}function y(){let e=(0,o.Z)(["\n  height: 70px;\n  display: flex;\n  align-items: center;\n"]);return y=function(){return e},e}function m(){let e=(0,o.Z)(["\n  font-size: 20px;\n"]);return m=function(){return e},e}function x(){let e=(0,o.Z)(["\n  padding: 5px 0;\n  display: flex;\n  justify-content: flex-end;\n  & > button {\n    margin-left: 8px;\n  }\n"]);return x=function(){return e},e}let k=e=>{let{type:t,content:n,data:o}=e,r=(0,l.useRouter)(),[f,v,h]=(0,s.j)(),[g,y]=(0,a.useState)([!1,!1,!1]),[m,x]=(0,a.useState)([]),[k,N]=(0,a.useState)(0),[I,M]=(0,a.useState)(10),[E,j]=(0,a.useState)(null===o),P=(0,a.useRef)(null),G=(0,p.Z)(n);function R(e){switch(e){case"total":y([!0,!1,!1]);break;case"webtoon":y([!1,!0,!1]);break;default:y([!1,!1,!0])}j(!1),r.push({pathname:"/search/content",query:{type:e,query:n}})}return(0,a.useEffect)(()=>{switch(t){case"total":y([!0,!1,!1]);break;case"webtoon":y([!1,!0,!1]);break;default:y([!1,!1,!0])}},[t]),(0,a.useEffect)(()=>{if(o){x(o);let e=o.slice(-1)[0];N(null==e?void 0:e.bookId),M(null==e?void 0:e.avgScore)}},[o]),(0,a.useEffect)(()=>{if(null!==m&&0!==m.length){let e=m.slice(-1)[0];null!==e&&(N(null==e?void 0:e.bookId),M(null==e?void 0:e.avgScore))}},[m]),(0,i.BX)("div",{children:[(0,i.tZ)("h2",{css:[b({isDeskTop:f,isTablet:v,isMobile:h}),_],children:"검색 결과"}),(0,i.BX)("div",{css:[b({isDeskTop:f,isTablet:v,isMobile:h}),C({isDeskTop:f,isTablet:v,isMobile:h})],children:[(0,i.BX)("div",{css:S,children:['"',n,'"',(0,i.BX)("span",{css:V,children:[G," 포함된 컨텐츠"]})]}),(0,i.BX)("div",{css:Z,children:[(0,i.tZ)(d.Z,{text:"전체",isClicked:g[0],onClick:()=>R("total")}),(0,i.tZ)(d.Z,{text:"웹툰",isClicked:g[1],onClick:()=>R("webtoon")}),(0,i.tZ)(d.Z,{text:"웹소설",isClicked:g[2],onClick:()=>R("novel")})]})]}),(0,i.tZ)("div",{css:w({isDeskTop:f,isTablet:v,isMobile:h}),ref:P,children:(0,i.tZ)(u.y,{books:m,type:t,getSearchBooks:function(e,o){let i=localStorage.getItem("access_token");(0,c.R)({type:t,content:n,prevId:e,prevScore:o,size:14,token:i}).then(e=>{if(null!==e&&(null==e?void 0:e.length)!==0){x(t=>[...t,...e]);let t=e.slice(-1)[0];N(t.bookId),M(t.avgScore)}else j(!0)})},booksWrapRef:P,prevId:k,prevScore:I,isPageEnd:E})})]})},_=(0,r.iv)(f()),w=e=>{let{isDeskTop:t,isTablet:n,isMobile:o}=e;return(0,r.iv)(v(),t&&"margin: 20px 105px",n&&"margin: 20px 50px",o&&"margin: 20px 20px")},b=e=>{let{isDeskTop:t,isTablet:n,isMobile:o}=e;return(0,r.iv)(h(),t&&"padding: 20px 105px",n&&"padding: 20px 50px",o&&"padding: 20px 20px")},C=e=>{let{isDeskTop:t,isTablet:n,isMobile:o}=e;return(0,r.iv)(g(),!o&&"display: flex; justify-content: space-between; align-items: center;",o&&"display: block;")},S=(0,r.iv)(y()),V=(0,r.iv)(m()),Z=(0,r.iv)(x());var N=!0;t.default=k},3773:function(e,t,n){"use strict";var o=n(5893),i=n(7294),r=function(){return(r=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function l(e,t,n){if(n||2==arguments.length)for(var o,i=0,r=t.length;i<r;i++)!o&&i in t||(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return e.concat(o||Array.prototype.slice.call(t))}function a(e){var t=e.size,n=void 0===t?25:t,i=e.SVGstrokeColor,l=e.SVGstorkeWidth,a=e.SVGclassName,c=e.SVGstyle;return o.jsx("svg",r({className:void 0===a?"star-svg":a,style:c,stroke:void 0===i?"currentColor":i,fill:"currentColor",strokeWidth:void 0===l?0:l,viewBox:"0 0 24 24",width:n,height:n,xmlns:"http://www.w3.org/2000/svg"},{children:o.jsx("path",{d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"})}))}function c(e,t){switch(t.type){case"PointerMove":return r(r({},e),{hoverValue:t.payload,hoverIndex:t.index});case"PointerLeave":return r(r({},e),{ratingValue:e.ratingValue,hoverIndex:0,hoverValue:null});case"MouseClick":return r(r({},e),{valueIndex:e.hoverIndex,ratingValue:t.payload});default:return e}}function s(){return"undefined"!=typeof window&&window.matchMedia("(pointer: coarse)").matches||"ontouchstart"in window||"undefined"!=typeof navigator&&navigator.maxTouchPoints>0}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&o.firstChild?o.insertBefore(i,o.firstChild):o.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".style-module_starRatingWrap__q-lJC{display:inline-block;touch-action:none}.style-module_simpleStarRating__nWUxf{display:inline-block;overflow:hidden;position:relative;touch-action:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle;white-space:nowrap}.style-module_fillIcons__6---A{display:inline-block;overflow:hidden;position:absolute;top:0;white-space:nowrap}.style-module_emptyIcons__Bg-FZ{display:inline-block}.style-module_tooltip__tKc3i{background-color:#333;border-radius:5px;color:#fff;display:inline-block;padding:5px 15px;vertical-align:middle}"),t.i=function(e){var t,n,u=e.onClick,d=e.onPointerMove,p=e.onPointerEnter,f=e.onPointerLeave,v=e.initialValue,h=void 0===v?0:v,g=e.iconsCount,y=void 0===g?5:g,m=e.size,x=void 0===m?40:m,k=e.readonly,_=void 0!==k&&k,w=e.rtl,b=void 0!==w&&w,C=e.customIcons,S=void 0===C?[]:C,V=e.allowFraction,Z=void 0!==V&&V,N=e.style,I=e.className,M=e.transition,E=e.allowHover,j=void 0===E||E,P=e.disableFillHover,G=void 0!==P&&P,R=e.fillIcon,T=void 0===R?null:R,A=e.fillColor,B=e.fillColorArray,z=e.fillStyle,W=e.fillClassName,L=e.emptyIcon,X=void 0===L?null:L,F=e.emptyColor,O=e.emptyStyle,q=e.emptyClassName,H=e.allowTitleTag,D=e.showTooltip,J=e.tooltipDefaultText,K=e.tooltipArray,U=void 0===K?[]:K,Y=e.tooltipStyle,Q=e.tooltipClassName,$=e.SVGclassName,ee=void 0===$?"star-svg":$,et=e.titleSeparator,en=e.SVGstyle,eo=e.SVGstorkeWidth,ei=void 0===eo?0:eo,er=e.SVGstrokeColor,el=void 0===er?"currentColor":er,ea=i.useReducer(c,{hoverIndex:0,valueIndex:0,ratingValue:h,hoverValue:null}),ec=ea[0],es=ec.ratingValue,eu=ec.hoverValue,ed=ec.hoverIndex,ep=ec.valueIndex,ef=ea[1];i.useEffect(function(){h&&ef({type:"MouseClick",payload:0})},[h]);var ev=i.useMemo(function(){return Z?2*y:y},[Z,y]),eh=i.useMemo(function(){return h>ev?0:Z||Math.floor(h)===h?Math.round(h/y*100):2*Math.ceil(h)*10},[Z,h,y,ev]),eg=i.useMemo(function(){return(Z?2*h-1:h-1)||0},[Z,h]),ey=i.useCallback(function(e){return y%2!=0?e/2/10:e*y/100},[y]),em=function(e){for(var t=e.clientX,n=e.currentTarget.children[0].getBoundingClientRect(),o=n.left,i=n.right,r=n.width,l=b?i-t:t-o,a=ev,c=Math.round(r/ev),s=0;s<=ev;s+=1)if(l<=c*s){a=0===s&&l<c?0:s;break}var u=a-1;a>0&&(ef({type:"PointerMove",payload:100*a/ev,index:u}),d&&eu&&d(ey(eu),u,e))},ex=function(e){eu&&(ef({type:"MouseClick",payload:eu}),u&&u(ey(eu),ed,e))},ek=i.useMemo(function(){if(j){if(G){var e=es&&es||eh;return eu&&eu>e?eu:e}return eu&&eu||es&&es||eh}return es&&es||eh},[j,G,eu,es,eh]);i.useEffect(function(){U.length>ev&&console.error("tooltipArray Array length is bigger then Icons Count length.")},[U.length,ev]);var e_=i.useCallback(function(e){return eu&&e[ed]||es&&e[ep]||h&&e[eg]},[eu,ed,es,ep,h,eg]),ew=i.useMemo(function(){return eu&&ey(eu)||es&&ey(es)||h&&ey(eh)},[eu,ey,es,h,eh]);return o.jsxs("span",r({className:"style-module_starRatingWrap__q-lJC",style:{direction:"".concat(b?"rtl":"ltr")}},{children:[o.jsxs("span",r({className:"".concat("style-module_simpleStarRating__nWUxf"," ").concat(void 0===I?"react-simple-star-rating":I),style:r({cursor:_?"":"pointer"},N),onPointerMove:_?void 0:em,onPointerEnter:_?void 0:function(e){p&&p(e),s()&&em(e)},onPointerLeave:_?void 0:function(e){s()&&ex(),ef({type:"PointerLeave"}),f&&f(e)},onClick:_?void 0:ex,"aria-hidden":"true"},{children:[o.jsx("span",r({className:"".concat("style-module_emptyIcons__Bg-FZ"," ").concat(void 0===q?"empty-icons":q),style:r({color:void 0===F?"#cccccc":F},O)},{children:l([],Array(y),!0).map(function(e,t){var n;return o.jsx(i.Fragment,{children:(null===(n=S[t])||void 0===n?void 0:n.icon)||X||o.jsx(a,{SVGclassName:ee,SVGstyle:en,SVGstorkeWidth:ei,SVGstrokeColor:el,size:x})},t)})})),o.jsx("span",r({className:"".concat("style-module_fillIcons__6---A"," ").concat(void 0===W?"filled-icons":W),style:r(((t={})[b?"right":"left"]=0,t.color=e_(void 0===B?[]:B)||(void 0===A?"#ffbc0b":A),t.transition=void 0!==M&&M?"width .2s ease, color .2s ease":"",t.width="".concat(ek,"%"),t),z),title:void 0===H||H?"".concat(ew," ").concat(void 0===et?"out of":et," ").concat(y):void 0},{children:l([],Array(y),!0).map(function(e,t){var n;return o.jsx(i.Fragment,{children:(null===(n=S[t])||void 0===n?void 0:n.icon)||T||o.jsx(a,{SVGclassName:ee,SVGstyle:en,SVGstorkeWidth:ei,SVGstrokeColor:el,size:x})},t)})}))]})),void 0!==D&&D&&o.jsx("span",r({className:"".concat("style-module_tooltip__tKc3i"," ").concat(void 0===Q?"react-simple-star-rating-tooltip":Q),style:r(((n={})[b?"marginRight":"marginLeft"]=20,n),Y)},{children:(U.length>0?e_(U):ew)||(void 0===J?"Your Rate":J)}))]}))}}},function(e){e.O(0,[662,13,878,774,888,179],function(){return e(e.s=8)}),_N_E=e.O()}]);