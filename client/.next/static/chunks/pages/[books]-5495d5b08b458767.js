(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[830],{7548:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[books]",function(){return e(9541)}])},12:function(n,t,e){"use strict";e.d(t,{K:function(){return r}});var i=e(7908);async function r(n){let{bookId:t,score:e,token:r}=n;try{let n={};r&&(n.Authorization=r);let{data:o}=await i.EC.put("/books/score/".concat(t,"?score=").concat(e),{headers:n});return o.data}catch(n){throw console.log(n),n}}},2008:function(n,t,e){"use strict";e.d(t,{X:function(){return r}});var i=e(7908);async function r(n){let{bookId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:r}=await i.EC.get("/recommend/item?bookId=".concat(t),{headers:n});return r.data}catch(n){throw console.log(n),n}}},9541:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSG:function(){return io},default:function(){return ic}});var i=e(7297),r=e(4288),o=e(917),c=e(7294),l=e(6995),a=e.n(l),u=e(1983),s=e.n(u),d=e(4932);function h(){let n=(0,i.Z)(["\n  position: relative;\n"]);return h=function(){return n},n}function p(){let n=(0,i.Z)(["\n  z-index: 9;\n  position: absolute;\n  left: 0;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 48px;\n  font-weight: 700;\n  padding-left: 8px;\n  padding-right: 8px;\n  color: white;\n  transition-property: font-size;\n  transition-duration: 0.2s;\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    font-size: 54px;\n  }\n"]);return p=function(){return n},n}function f(){let n=(0,i.Z)(["\n  z-index: 9;\n  position: absolute;\n  right: 0;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 48px;\n  font-weight: 700;\n  padding-left: 8px;\n  padding-right: 8px;\n  color: white;\n  transition-property: font-size;\n  transition-duration: 0.2s;\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    font-size: 54px;\n  }\n"]);return f=function(){return n},n}function g(){let n=(0,i.Z)(["\n    z-index: 9;\n    position: absolute;\n    color: white;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: end;\n    pointer-events: none;\n    padding-bottom: ",";\n  "]);return g=function(){return n},n}function v(){let n=(0,i.Z)(["\n    width: 30px;\n    height: 2px;\n    background-color: ",";\n    margin: 2px;\n  "]);return v=function(){return n},n}let m=n=>{let{parentRef:t,content:e}=n,i=(0,c.useRef)(null),[o,l]=(0,c.useState)(0),[u,h]=(0,c.useState)(1),[p,f]=(0,c.useState)(!1),[g,v,m]=(0,d.j)(),[k,S]=(0,c.useState)(null),[C,V]=(0,c.useState)(null);(0,c.useEffect)(()=>{S(()=>t.current.clientWidth),V(()=>t.current.clientHeight);let n=()=>{S(()=>t.current.clientWidth),V(()=>t.current.clientHeight),null!==i.current&&t.current.clientWidth&&(i.current.style.transitionDuration="0s",i.current.style.transform="translateX(".concat(-t.current.clientWidth*(u-1),"px)"))};return window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[u]);let z=()=>{null!==i.current&&null!==k&&(i.current.style.transitionDuration="0.3s",o<-50&&u<e.content.length&&(h(n=>n+1),i.current.style.transform="translateX(".concat(-k*u,"px)")),o>50&&u>-1&&(h(n=>n-1),i.current.style.transform="translateX(".concat(-k*(u-2),"px)")),50>=Math.abs(o)&&(i.current.style.transform="translateX(".concat(-k*(u-1),"px)"))),l(()=>0),f(!0)},I=(0,c.useCallback)(()=>{null!==i.current&&null!==k&&(u<e.content.length?(i.current.style.transitionProperty="transform",i.current.style.transitionDuration="0.5s",h(n=>n+1),i.current.style.transform="translateX(".concat(-k*u,"px)")):(i.current.style.transitionProperty="transform",i.current.style.transitionDuration="0.5s",h(()=>1),i.current.style.transform="translateX(0px)"))},[u,k]),H=(0,c.useCallback)(()=>{null!==i.current&&null!==k&&(u>1?(i.current.style.transitionProperty="transform",i.current.style.transitionDuration="0.5s",h(n=>n-1),i.current.style.transform="translateX(".concat(-k*(u-2),"px)")):(i.current.style.transitionProperty="transform",i.current.style.transitionDuration="0.5s",h(()=>e.content.length),i.current.style.transform="translateX(".concat(-k*(e.content.length-1),"px)")))},[u,k]);(0,c.useEffect)(()=>{let n=setInterval(function(){I()},1e4);return()=>{clearInterval(n)}},[k,u]);let _=e.content.map((n,t)=>(0,r.tZ)("div",{css:Z({idx:t,contentCount:u})},"indicator-".concat(t))),E=(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{css:w,onClick:H,children:"〈"}),(0,r.tZ)("div",{css:b,onClick:I,children:"〉"})]});return(0,r.BX)("div",{css:x,children:[!1===m&&E,(0,r.tZ)("div",{css:y({isMobile:m}),children:_}),(0,r.tZ)(a(),{onSwipeStart:n=>{n.stopPropagation()},onSwipeEnd:z,onSwipeMove:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0};if(f(!1),!(1===e.content.length||u>=e.content.length&&o<0||1===u&&o>0||null!==k&&Math.abs(o)>k)&&null!==i.current&&null!==k&&null!==n.x){i.current.style.transitionDuration="0s",i.current.style.transform="translateX(".concat(o+-k*(u-1),"px)");let t=n.x;l(()=>t)}},children:(0,r.tZ)("div",{className:s().wrapper,children:(0,r.tZ)("div",{className:s().moveable,ref:i,children:e.content.map((n,t)=>(0,r.tZ)("div",{className:s().content,style:{width:k+"px"},children:n},"banner-".concat(t)))})})})]})},x=(0,o.iv)(h()),w=(0,o.iv)(p()),b=(0,o.iv)(f()),y=n=>{let{isMobile:t}=n;return(0,o.iv)(g(),t?"8px":"16px")},Z=n=>{let{idx:t,contentCount:e}=n;return(0,o.iv)(v(),e-1===t?"white":"gray")};var k=e(6878),S=e(6486);function C(){let n=(0,i.Z)(["\n  width: 100%;\n  margin: 0 auto;\n  /* display:flex;\n        justify-content: center; */\n  display: grid;\n  place-items: center;\n  position: relative;\n"]);return C=function(){return n},n}function V(){let n=(0,i.Z)(["\n    transition-property: left top width height;\n    transition-duration: 0.3s;\n    position: absolute;\n    left: ",";\n    top: ",";\n    /* left: ","; */\n    /* top: ","; */\n    width: ",";\n    height: ",";\n    visibility: ",";\n    overflow: hidden;\n  "]);return V=function(){return n},n}function z(){let n=(0,i.Z)(["\n  width: 100%;\n  height: auto;\n"]);return z=function(){return n},n}function I(){let n=(0,i.Z)(["\n    width: ",";\n    left: ",";\n    position: relative;\n    display: flex;\n  "]);return I=function(){return n},n}function H(){let n=(0,i.Z)(["\n    width: ",";\n    height: ",";\n    pointer-events: none;\n    /* display: none; */\n  "]);return H=function(){return n},n}function _(){let n=(0,i.Z)(["\n    width: ",";\n    height: ",";\n    pointer-events: none;\n    /* display: none; */\n  "]);return _=function(){return n},n}function E(){let n=(0,i.Z)(["\n  z-index: 9;\n  position: absolute;\n  left: 0;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 48px;\n  font-weight: 700;\n  padding-left: 8px;\n  padding-right: 8px;\n  color: var(--text-color);\n  transition-property: font-size;\n  transition-duration: 0.2s;\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    font-size: 54px;\n  }\n"]);return E=function(){return n},n}function B(){let n=(0,i.Z)(["\n  z-index: 9;\n  position: absolute;\n  right: 0;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 48px;\n  font-weight: 700;\n  padding-left: 8px;\n  padding-right: 8px;\n  color: var(--text-color);\n  transition-property: font-size;\n  transition-duration: 0.2s;\n  cursor: pointer;\n  user-select: none;\n\n  &:hover {\n    font-size: 54px;\n  }\n"]);return B=function(){return n},n}function L(){let n=(0,i.Z)(["\n    width: ",";\n    height: ",";\n    background-color: var(--border-color-2);\n    border-radius: 10000px;\n    position: absolute;\n  "]);return L=function(){return n},n}function X(){let n=(0,i.Z)(["\n    width: 1px;\n    height: ","px;\n    pointer-events: none;\n  "]);return X=function(){return n},n}function W(){let n=(0,i.Z)(["\n  display: flex;\n  justify-content: center;\n"]);return W=function(){return n},n}let j=n=>{let{bookData:t,windowWrapperRef:e,identifier:i}=n,[o,l]=(0,c.useState)([...t]),[u,s]=(0,c.useState)(0),h=(0,c.useRef)(null),p=(0,c.useRef)(null),f=(0,c.useRef)(null),[g,v,m]=(0,d.j)(),[x,w]=(0,c.useState)(9),b={widthValue:13,heightValue:19,highlightedWidthValue:17,highlightedHeightValue:25,spaceValue:5,unit:"vw",minWidthValue:150,minHeightValue:225,minHighlightedWidthValue:210,minHighlightedHeightValue:280,minSpaceValue:24};(0,c.useEffect)(()=>{if(o[0].title!==o[o.length-x].title){let n=o.concat(o.slice(0,x));l(()=>n)}},[]);let[y,Z]=(0,c.useState)(0),C=(0,c.useMemo)(()=>(0,S.throttle)(n=>{if(null!==p.current&&null!==h.current){var t,i;let n=h.current.clientWidth<b.minWidthValue?(b.minWidthValue+b.minSpaceValue)*(x-1)+b.minHighlightedWidthValue+"px":(b.widthValue+b.spaceValue)*(x-1)+b.highlightedWidthValue+b.unit;p.current.style.width=n;let r=p.current.clientWidth>(null==e?void 0:null===(t=e.current)||void 0===t?void 0:t.offsetWidth)?-(p.current.clientWidth-(null==e?void 0:null===(i=e.current)||void 0===i?void 0:i.offsetWidth))/2+"px":"0px";p.current.style.left=r}Z(()=>window.innerWidth)},1e3),[]);(0,c.useEffect)(()=>(window.addEventListener("resize",C),()=>{window.removeEventListener("resize",C)}),[]);let V=()=>{u>0?s(n=>n-1):s(()=>o.length-x-1)},z=()=>{u<o.length-x-1?s(n=>n+1):s(()=>0)},I=o.slice(u,u+x).map((n,t)=>(0,r.tZ)("div",{css:P({idx:t,widthValue:b.widthValue,heightValue:b.heightValue,unit:b.unit,highlightedWidthValue:b.highlightedWidthValue,highlightedHeightValue:b.highlightedHeightValue,spaceValue:b.spaceValue,normalRef:h,minWidthValue:b.minWidthValue,minHeightValue:b.minHeightValue,minHighlightedWidthValue:b.minHighlightedWidthValue,minHighlightedHeightValue:b.minHighlightedHeightValue,minSpaceValue:b.minSpaceValue,showCount:x}),children:(0,r.tZ)(k.Z,{bookData:n,showPlatform:!0})},"".concat(n.title,"-").concat(y,"-").concat(i))),[H,_]=(0,c.useState)(0),E=()=>{console.log(H),H>40&&V(),H<-40&&z(),_(()=>0)},B=(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{css:A,onClick:V,children:"〈"}),(0,r.tZ)("div",{css:D,onClick:z,children:"〉"})]});return(0,r.BX)("div",{className:"carousel-outer-wrapper",css:R,children:[(0,r.tZ)("div",{css:O({highlightedHeightValue:b.highlightedHeightValue,minHighlightedHeightValue:b.minHighlightedHeightValue,unit:b.unit,highlightedRef:f,carouselWrapperRef:p})}),(0,r.tZ)(a(),{onSwipeStart:n=>{n.stopPropagation()},onSwipeMove:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:0};_(()=>n.x)},onSwipeEnd:E,children:(0,r.BX)("div",{children:[!1===m&&B,(0,r.tZ)("div",{ref:p,className:"carousel-inner-wrapper",css:M({widthValue:b.widthValue,unit:b.unit,highlightedWidthValue:b.highlightedWidthValue,minWidthValue:b.minWidthValue,minHighlightedWidthValue:b.minHighlightedWidthValue,spaceValue:b.spaceValue,minSpaceValue:b.minSpaceValue,normalRef:h,carouselWrapperRef:p,windowWrapperRef:e,showCount:x}),children:I}),(0,r.BX)("div",{css:G,children:[(0,r.tZ)("div",{className:"dummy-normal",ref:h,css:N({widthValue:b.widthValue,heightValue:b.heightValue,unit:b.unit})}),(0,r.tZ)("div",{className:"dummy-highlighted",ref:f,css:T({highlightedWidthValue:b.highlightedWidthValue,highlightedHeightValue:b.highlightedHeightValue,unit:b.unit})}),(0,r.tZ)("div",{className:"dummy-min-highlighted",css:Y({minHighlightedHeightValue:b.minHighlightedHeightValue})})]})]})})]})},R=(0,o.iv)(C()),P=n=>{var t,e,i,r;let{idx:c,widthValue:l,heightValue:a,unit:u,highlightedWidthValue:s,highlightedHeightValue:d,spaceValue:h,normalRef:p,minWidthValue:f,minHeightValue:g,minHighlightedWidthValue:v,minHighlightedHeightValue:m,minSpaceValue:x,showCount:w}=n,b=(null==p?void 0:null===(t=p.current)||void 0===t?void 0:t.clientWidth)<f?(c===Math.floor(w/2)?v:f)+"px":(c===Math.floor(w/2)?s:l)+u,y=(null==p?void 0:null===(e=p.current)||void 0===e?void 0:e.clientHeight)<g?(c===Math.floor(w/2)?m:g)+"px":(c===Math.floor(w/2)?d:a)+u,Z=(null==p?void 0:null===(i=p.current)||void 0===i?void 0:i.clientWidth)<f?(c>Math.floor(w/2)?c*(f+x)+(v-f):c*(f+x))+"px":(c>Math.floor(w/2)?c*(l+h)+(s-l):c*(l+h))+u,k=(null==p?void 0:null===(r=p.current)||void 0===r?void 0:r.clientWidth)<f?(c!==Math.floor(w/2)?(m-g)/2:0)+"px":(c!==Math.floor(w/2)?(d-a)/2:0)+u;return(0,o.iv)(V(),Z,k,(c>2?c*(l+h)+(s-l):c*(l+h))+u,(2===c?-(d-a)/2:0)+u,b,y,c<w?"visible":"hidden")};(0,o.iv)(z());let M=n=>{var t,e,i,r,c;let{widthValue:l,unit:a,highlightedWidthValue:u,spaceValue:s,minSpaceValue:d,minWidthValue:h,minHighlightedWidthValue:p,normalRef:f,carouselWrapperRef:g,windowWrapperRef:v,showCount:m}=n,x=(null==f?void 0:null===(t=f.current)||void 0===t?void 0:t.clientWidth)<h?(h+d)*(m-1)+p+"px":(l+s)*(m-1)+u+a,w=(null==g?void 0:null===(e=g.current)||void 0===e?void 0:e.clientWidth)>(null==v?void 0:null===(i=v.current)||void 0===i?void 0:i.offsetWidth)?-((null==g?void 0:null===(r=g.current)||void 0===r?void 0:r.clientWidth)-(null==v?void 0:null===(c=v.current)||void 0===c?void 0:c.offsetWidth))/2+"px":"0px";return(0,o.iv)(I(),x,w)},N=n=>{let{widthValue:t,heightValue:e,unit:i}=n;return(0,o.iv)(H(),t+i,e+i)},T=n=>{let{highlightedWidthValue:t,highlightedHeightValue:e,unit:i}=n;return(0,o.iv)(_(),t+i,e+i)},A=(0,o.iv)(E()),D=(0,o.iv)(B()),O=n=>{var t;let{highlightedHeightValue:e,minHighlightedHeightValue:i,unit:r,highlightedRef:c}=n,l=(null==c?void 0:null===(t=c.current)||void 0===t?void 0:t.clientHeight)<i?i+48+"px":e+5+r;return(0,o.iv)(L(),l,l)},Y=n=>{let{minHighlightedHeightValue:t}=n;return(0,o.iv)(X(),t)},G=(0,o.iv)(W());var q=e(8932),F=e(7908);async function J(n){let{genreCode:t,typeCode:e,prevId:i,prevScore:r,size:o,token:c}=n;try{let n={};c&&(n.Authorization=c);let{data:l}=await F.EC.get("/books/genre/".concat(t,"?typeCode=").concat(e).concat(void 0!==i?"&prevId=".concat(i):"").concat(void 0!==r?"&prevScore=".concat(r):"").concat(void 0!==o?"&size=".concat(o):""),{headers:n});return l.data}catch(n){throw console.log(n),n}}function K(){let n=(0,i.Z)(["\n    /* position: relative; */\n    /* height: 16px; */\n    height: ",";\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    /* padding-left: 132px; */\n    display: flex;\n    margin: 0px 24px 0px 24px;\n    background-color: var(--soft-grey);\n  "]);return K=function(){return n},n}function U(){let n=(0,i.Z)(["\n    display: flex;\n    /* position: absolute; */\n    /* margin-top: 12px; */\n\n    overflow-x: scroll;\n    padding-left: ",";\n    margin-left: ",";\n\n    padding-right: ",";\n    ","\n\n    &::-webkit-scrollbar {\n      display: none; /* Chrome, Safari, Opera*/\n    }\n  "]);return U=function(){return n},n}function Q(){let n=(0,i.Z)(["\n    /* border-radius: 100px; */\n    /* background-color: var(--back-color-2); */\n    padding: 14px;\n    margin-right: ",";\n    /* margin-bottom: 16px; */\n    /* color: black; */\n    white-space: pre;\n    color: ",";\n    font-size: ",";\n    font-weight: 700;\n    cursor: pointer;\n    transition-property: color;\n    transition-duration: 0.1s;\n    user-select: none;\n    &:hover {\n      color: ",";\n    }\n  "]);return Q=function(){return n},n}let $=n=>{let{genres:t,selected:e,selectHandler:i}=n,[o,l,a]=(0,d.j)(),u=t.map((n,t)=>(0,r.tZ)(c.Fragment,{children:(0,r.tZ)("div",{css:ne({selected:e,curIdx:n.genreId,isMobile:a}),onClick:()=>{i(n.genreId)},children:n.name})},"genreList-".concat(n.name)));return(0,r.tZ)("div",{css:nn({isMobile:a}),children:(0,r.BX)("div",{css:nt({isMobile:a}),children:[(0,r.tZ)("div",{css:ne({selected:e,curIdx:-2,isMobile:a}),onClick:()=>{i(-2)},children:"추천"}),(0,r.tZ)("div",{css:ne({selected:e,curIdx:-1,isMobile:a}),onClick:()=>{i(-1)},children:"요일별"}),u]})})},nn=n=>{let{isMobile:t}=n;return(0,o.iv)(K(),t?"48px":"84px")},nt=n=>{let{isMobile:t}=n;return(0,o.iv)(U(),t?"10px":"0px","0px",t?"10px":"0px",t&&"\n    -webkit-mask-image: linear-gradient(\n      to right,\n      rgba(0, 0, 0, 0) 0%,\n      var(--back-color) 5%,\n      var(--back-color) 90%,\n      rgba(0, 0, 0, 0) 100%\n  );\n  mask-image: linear-gradient(\n      to right,\n      rgba(0, 0, 0, 0) 0%,\n      var(--back-color) 5%,\n      var(--back-color) 90%,\n      rgba(0, 0, 0, 0) 100%\n  );\n  ")},ne=n=>{let{selected:t,curIdx:e,isMobile:i}=n;return(0,o.iv)(Q(),i?"0px":"16px",t===e?"var(--main-color)":"var(--text-color-2)",i?"16px":"24px",t===e?"var(--main-color)":"var(--text-color-4)")};function ni(){let n=(0,i.Z)(["\n    /* position: relative; */\n    /* height: 16px; */\n    border-top: 1px solid var(--border-color-2);\n    height: ",";;\n    width: 100%;\n    justify-content: center;\n    align-items: center;\n    /* padding-left: 132px; */\n    display: flex;\n    margin: 0px 24px 0px 24px;\n    background-color: var(--soft-grey);\n  "]);return ni=function(){return n},n}function nr(){let n=(0,i.Z)(["\n    display: flex;\n  /* position: absolute; */\n  /* margin-top: 12px; */\n    \n    overflow-x: scroll;\n    padding-left: ",";\n    margin-left: ",";\n    \n    padding-right: ",";\n    ","\n    \n\n    &::-webkit-scrollbar {\n    display: none; /* Chrome, Safari, Opera*/\n  }\n  "]);return nr=function(){return n},n}function no(){let n=(0,i.Z)(["\n    /* border-radius: 100px; */\n    /* background-color: var(--back-color-2); */\n    padding: 14px;\n    margin-right: ",";\n    /* margin-bottom: 16px; */\n    /* color: black; */\n    white-space:pre;;\n    color: ",";\n    font-size: ",";\n    font-weight: 500;\n    cursor: pointer;\n    transition-property: color;\n    transition-duration: 0.1s;\n    user-select: none;\n    &:hover {\n      color: ",";\n    }\n  "]);return no=function(){return n},n}let nc=n=>{let{selected:t,selectHandler:e}=n,[i,o,l]=(0,d.j)(),a=["월","화","수","목","금","토","일","완결"].map((n,i)=>(0,r.tZ)(c.Fragment,{children:(0,r.tZ)("div",{css:nu({selected:t,curIdx:i,isMobile:l}),onClick:()=>{e(i)},children:n})},"dayList-".concat(n)));return(0,r.tZ)("div",{css:nl({isMobile:l}),children:(0,r.tZ)("div",{css:na({isMobile:l}),children:a})})},nl=n=>{let{isMobile:t}=n;return(0,o.iv)(ni(),t?"48px":"64px")},na=n=>{let{isMobile:t}=n;return(0,o.iv)(nr(),t?"10px":"0px","0px",t?"10px":"0px",t&&"\n    -webkit-mask-image: linear-gradient(\n      to right,\n      rgba(0, 0, 0, 0) 0%,\n      var(--back-color) 5%,\n      var(--back-color) 90%,\n      rgba(0, 0, 0, 0) 100%\n  );\n  mask-image: linear-gradient(\n      to right,\n      rgba(0, 0, 0, 0) 0%,\n      var(--back-color) 5%,\n      var(--back-color) 90%,\n      rgba(0, 0, 0, 0) 100%\n  );\n  ")},nu=n=>{let{selected:t,curIdx:e,isMobile:i}=n;return(0,o.iv)(no(),i?"0px":"16px",t===e?"var(--main-color)":"var(--text-color-2)",i?"16px":"20px",t===e?"var(--main-color)":"var(--text-color-4)")};var ns=e(2132),nd=e(8404),nh=e(8184);function np(){let n=(0,i.Z)(["",""]);return np=function(){return n},n}function nf(){let n=(0,i.Z)(["\n\n    /* height: 100vh;\n    overflow-y: scroll;\n    overflow-x: hidden; */\n    display: flex;\n        align-items: center;\n        flex-direction: column;\n"]);return nf=function(){return n},n}function ng(){let n=(0,i.Z)(["\n        ",";\n        /* display: flex;\n        flex-direction: column;\n        align-items: center; */\n        display: grid;\n        grid-template-columns: ",";\n        /* grid-template-columns: 50% 50%; */\n        place-items: center;\n        /* content-visibility: auto; */\n\n    "]);return ng=function(){return n},n}function nv(){let n=(0,i.Z)(["\n    display: flex;\n    justify-content: center;\n    height: 48px;\n    font-size: 24px;\n    font-weight: 700;\n"]);return nv=function(){return n},n}function nm(){let n=(0,i.Z)(["\n        width: ",";\n        height: ",";\n        margin: ",";\n        content-visibility: auto;\n    "]);return nm=function(){return n},n}let nx=n=>{let{API:t,identifier:e}=n,[i,l,a]=(0,d.j)(),u={width:i?"200px":"45vw",height:i?"300px":"70vw",minWidth:i?"200px":"45vw",minHeight:i?"300px":"70vw",padding:"0.5vw",margin:i?"16px":"2vw"},[s,h]=(0,c.useState)([]),[p,f]=(0,c.useState)(20),[g,v]=(0,c.useState)(!1),m=(0,c.useRef)(null),x=(0,c.useRef)([]),w=(0,c.useRef)(null),[b,y]=(0,c.useState)(0);(0,c.useEffect)(()=>{let n=window.sessionStorage.getItem("".concat(e,"-inf_fetched_data")),i=window.sessionStorage.getItem("".concat(e,"-recent_page"));console.log("로드",n&&JSON.parse(n)),n?h(()=>JSON.parse(n)):t({size:p}).then(n=>{if(0!==n.content.length||null!==n.content){let t=[[...n.content]];h(()=>t)}}).catch(n=>{}),i&&y(()=>JSON.parse(i))},[]),(0,c.useEffect)(()=>{let n=window.sessionStorage.getItem("".concat(e,"-recent_scroll"));n&&0!==s.length&&window.scrollTo(0,Number(JSON.parse(n)))},[0!==s.length]),(0,c.useEffect)(()=>{if(!0===g&&s){let n=s[s.length-1][s[s.length-1].length-1];n&&(console.log(n),t({lastContent:n,size:p}).then(n=>{if(0!==n.content.length||null!==n.content){let t=[...s,[...n.content]];h(()=>t),window.sessionStorage.setItem("".concat(e,"-inf_fetched_data"),JSON.stringify(t))}})),Z(!1)}},[g]);let Z=n=>{v(()=>n)},C=(0,c.useMemo)(()=>(0,S.throttle)(n=>{0!==document.documentElement.scrollTop&&window.sessionStorage.setItem("".concat(e,"-recent_scroll"),String(document.documentElement.scrollTop))},1e3),[s]);(0,c.useEffect)(()=>(document.addEventListener("wheel",C),document.addEventListener("touchmove",C),()=>{document.removeEventListener("wheel",C),document.removeEventListener("touchmove",C)}),[]);let V=s.map((n,t)=>{let c=n.map((n,i)=>(0,r.tZ)("div",{css:nZ({width:u.width,height:u.height,minWidth:u.minWidth,minHeight:u.minHeight,margin:u.margin}),children:(0,r.tZ)(k.Z,{showPlatform:!0,bookData:n,minWidth:u.minWidth,minHeight:u.minHeight})},"".concat(e,"-infinity-card-").concat(t*p+i)));if(0!==n.length)return(0,r.tZ)("div",{css:(0,o.iv)(np(),i?"width: auto;":"width: 100vw;"),id:"".concat(t),ref:n=>{x.current[t]=n},children:(0,r.tZ)("div",{ref:n.length===p?w:null,css:nb({isMobile:a,isTablet:l,isDeskTop:i}),children:c})},"".concat(e,"-infinity-").concat(t))}),z=new IntersectionObserver(n=>{n.forEach(n=>{let t=n.target;n.isIntersecting&&("scrollStart"!==t.id&&(y(()=>Number(t.id)),window.sessionStorage.setItem("".concat(e,"-recent_page"),t.id)),"scrollStart"===t.id&&0!==s.length&&Z(!0),console.log("화면에 보이는 Div",t.id))})});return(0,c.useEffect)(()=>(x.current.forEach(n=>{n&&z.observe(n)}),null!==m.current&&z.observe(m.current),()=>z.disconnect()),[x.current.length,s]),(0,r.BX)("div",{css:nw,children:[V,(0,r.tZ)("div",{css:ny,id:"scrollStart",ref:m,children:(0,r.tZ)(nd.Z,{strokeColor:"var(--text-color)",animation:nh.Z,size:50})})]})},nw=(0,o.iv)(nf()),nb=n=>{let{isMobile:t,isTablet:e,isDeskTop:i}=n;return(0,o.iv)(ng(),!1===i?"width: 100vw;":"width: 100%",i?"repeat(5,1fr)":"50% 50%")},ny=(0,o.iv)(nv()),nZ=n=>{let{width:t,height:e,minWidth:i,minHeight:r,margin:c}=n;return(0,o.iv)(nm(),t,e,c)};async function nk(n){let{day:t,typeCode:e,genreCode:i,prevId:r,prevScore:o,size:c,token:l}=n;try{let n={};l&&(n.Authorization=l);let{data:a}=await F.EC.get("/books/day/".concat(t,"?typeCode=").concat(e).concat(void 0!==i?"&genreCode=".concat(i):"").concat(void 0!==r?"&prevId=".concat(r):"").concat(void 0!==o?"&prevScore=".concat(o):"").concat(void 0!==c?"&size=".concat(c):""),{headers:n});return a.data}catch(n){throw console.log(n),n}}function nS(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  background-color: red;\n"]);return nS=function(){return n},n}function nC(n){let{selectedDay:t,params:e}=n,i=["월","화","수","목","금","토","일","완결"],o=n=>{let{lastContent:r,size:o}=n,c=r?r.bookId:0,l=r?r.avgScore:10;return nk({day:i[t],typeCode:"webtoon"===e?0:1,prevId:c,prevScore:l,size:o})};return(0,r.tZ)(r.HY,{children:(0,r.tZ)(nx,{identifier:"sortBytDay-".concat(e,"-").concat(t),API:o},"sortBytDay-".concat(e,"-").concat(t))})}(0,o.iv)(nS());var nV=e(9105),nz=e(363),nI=e(1163);async function nH(n){let{file:t,typeCode:e}=n;try{let n=function(n){let t=new FormData;return null!==n&&t.append("file",n),t}(t),i=await F.ZX.post("/ocr?typeCode=".concat(e),n);return i.data.data}catch(n){throw console.log(n),n}}function n_(){let n=(0,i.Z)(["\n    cursor: pointer;\n    width: ",";\n    height: ",";\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    padding: 0 20px;\n    background-color: ",";\n    border: ",";\n    /* color: black; */\n  "]);return n_=function(){return n},n}function nE(n){let{onClick:t,width:e,height:i,children:o,cancelTheme:c}=n;return(0,r.tZ)(r.HY,{children:(0,r.tZ)("button",{css:nB({width:e,height:i,cancelTheme:c}),onClick:t,children:o})})}let nB=n=>{let{width:t,height:e,cancelTheme:i}=n;return(0,o.iv)(n_(),t,e,i?"var(--back-color)":"var(--main-color)",i&&"1px solid var(--border-color-2)")};var nL=e(5434),nX=e(9352);function nW(){let n=(0,i.Z)(["font-size: 18px; font-weight: 700; margin-bottom: 8px;"]);return nW=function(){return n},n}function nj(){let n=(0,i.Z)(["font-size: 15px; font-weight: 500; color: var(--text-color-4);"]);return nj=function(){return n},n}function nR(){let n=(0,i.Z)(["color: var(--text-color-4); margin-top: 20px; margin-bottom: 5px;"]);return nR=function(){return n},n}function nP(){let n=(0,i.Z)(["color: var(--text-color-4);"]);return nP=function(){return n},n}function nM(){let n=(0,i.Z)(["display: none;"]);return nM=function(){return n},n}function nN(){let n=(0,i.Z)(["\n  display: flex;\n  justify-content: space-between;;\n  padding: 16px 16px 16px 16px;\n  border-top: 1px solid var(--border-color-2);\n  background-color: var(--back-color-2);\n"]);return nN=function(){return n},n}function nT(){let n=(0,i.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n  height: 160px;\n  border-radius: 10px;\n  /* border: 1px solid var(--border-color); */\n  padding: 24px 0px 16px 0px;\n  overflow: hidden;\n  background-color: var(--back-color);\n"]);return nT=function(){return n},n}function nA(){let n=(0,i.Z)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n  overflow: hidden;\n"]);return nA=function(){return n},n}function nD(){let n=(0,i.Z)(["\n    display: flex;\n    align-items: center;\n    border-radius: 10px;\n    width: 45%;\n    height: 84px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color: ",";\n    cursor: pointer;\n  "]);return nD=function(){return n},n}function nO(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  background-color: var(--back-color);\n  border-bottom: 1px solid var(--border-color-2);\n  padding-top: 20px;\n"]);return nO=function(){return n},n}function nY(){let n=(0,i.Z)(["\n  font-size: 24px;\n  font-weight: 500;\n"]);return nY=function(){return n},n}function nG(){let n=(0,i.Z)(["\n  width: 36px;\n  height: 36px;\n  margin-bottom: 16px;\n"]);return nG=function(){return n},n}function nq(){let n=(0,i.Z)(["\n  padding: 16px;\n"]);return nq=function(){return n},n}function nF(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 48px;\n  border-radius: 10px;\n  /* border: 1px solid var(--border-color); */\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  padding-left: 8px;\n  overflow: hidden;\n  margin-bottom: 16px;\n  background-color: var(--back-color);\n"]);return nF=function(){return n},n}function nJ(){let n=(0,i.Z)(["\n  flex: 1;\n  overflow:hidden;\n  text-overflow:ellipsis;\n  padding-right: 8px;\n"]);return nJ=function(){return n},n}function nK(){let n=(0,i.Z)(["\n  transition-property: background-color;\n  transition-duration: 0.3s;\n  height: 100%;\n  width: 96px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: var(--border-color-2);\n  cursor: pointer;\n  &:hover {\n    background-color: var(--border-color);\n  }\n"]);return nK=function(){return n},n}function nU(){let n=(0,i.Z)(["\n  margin-bottom: 6px;\n"]);return nU=function(){return n},n}function nQ(){let n=(0,i.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 16px;\n"]);return nQ=function(){return n},n}function n$(){let n=(0,i.Z)(["\n  margin-left: 8px;\n  font-size: 14px;\n  font-weight: 700;\n  cursor: pointer;\n  &:hover .detail-backdrop {\n    opacity: 100%;\n  }\n"]);return n$=function(){return n},n}function n0(){let n=(0,i.Z)(["\n  z-index: 999999;\n  width: 100vw;\n  height: 100vh;\n  position: fixed;\n  transition-property: opacity;\n  transition-duration: 0.3s;\n  opacity: 0%;\n  pointer-events: none;\n  /* background-color: black; */\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  left: 0;\n  top: 0;\n\n"]);return n0=function(){return n},n}function n1(){let n=(0,i.Z)(["\n  width: 360px;\n  height: 620px;\n  background-color: var(--back-color);\n  display: flex;\n  flex-direction: column;\n  /* justify-content: center; */\n  align-items: center;\n  border-radius: 10px;;\n  box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n  padding: 20px;\n"]);return n1=function(){return n},n}function n2(){let n=(0,i.Z)(["\n  height: auto;\n  width: 100%;\n  border-radius: 10px;\n\n"]);return n2=function(){return n},n}function n5(){let n=(0,i.Z)(["\n  margin-top: 20px;\n  \n"]);return n5=function(){return n},n}let n4=n=>{var t,e,i;let{modalHandler:l,phaseHandler:a,onClickSubmitHandler:u,isDarkMode:s}=n,[d,h]=(0,c.useState)(),p=(0,c.useRef)(null);(0,c.useEffect)(()=>{let n=document.documentElement.getAttribute("data-theme");h(()=>n)},[]);let[f,g]=(0,c.useState)(null),[v,m]=(0,c.useState)(0),x=n=>{n.target.files&&(g(n.target.files[0]),console.log(p))},w=(0,r.tZ)("div",{className:"detail-backdrop",css:tu,children:(0,r.BX)("div",{css:ts,children:[(0,r.tZ)("img",{css:td,src:"/assets/scan_example.jpg"}),(0,r.BX)("div",{css:th,children:[(0,r.tZ)("div",{css:(0,o.iv)(nW()),children:"어떤 이미지를 사용하면 되나요?"}),(0,r.tZ)("div",{css:(0,o.iv)(nj()),children:"웹툰의 제목이 포함된 보관함이 잘 보이게 스크린샷을 찍고, 스캔을 시작하세요!"})]})]})});return(0,r.BX)(r.HY,{children:[(0,r.BX)("div",{children:[(0,r.BX)("div",{css:n7,children:[(0,r.tZ)("img",{css:tt,src:!0===s?"/assets/scan_icon_white.png":"/assets/scan_icon.png"}),(0,r.tZ)("div",{css:tn,children:"작품 스캔"}),(0,r.BX)("div",{css:tl,children:[(0,r.tZ)("div",{css:(0,o.iv)(nR()),children:"각 플랫폼의 보관함을 캡쳐해서 가져올 수 있습니다."}),(0,r.BX)("div",{css:(0,o.iv)(nP()),children:["더 정확한 개인 맞춤형 추천이 가능해집니다.",(0,r.BX)("span",{css:ta,children:["자세히",w]})]})]})]}),(0,r.BX)("div",{css:te,children:[(0,r.BX)("form",{method:"post",encType:"multipart/form-data",children:[(0,r.BX)("div",{css:ti,children:[(0,r.tZ)("div",{css:tr,children:(null==p?void 0:null===(t=p.current)||void 0===t?void 0:t.files)?null===(e=null==p?void 0:null===(i=p.current)||void 0===i?void 0:i.files[0])||void 0===e?void 0:e.name:"이미지를 첨부해 주세요."}),(0,r.tZ)("label",{css:to,className:"button",htmlFor:"chooseFile",children:"파일 선택"})]}),(0,r.tZ)("input",{ref:p,css:(0,o.iv)(nM()),type:"file",id:"chooseFile",name:"chooseFile",accept:"image/*",onChange:x})]}),(0,r.BX)("div",{css:n6,children:["스캔하려는 작품의 종류를 선택해 주세요!",(0,r.BX)("div",{css:n8,children:[(0,r.BX)("div",{css:n9({targetType:0,currentType:v}),onClick:()=>{m(()=>0)},children:[0===v?(0,r.tZ)(nL.i6N,{css:tc,size:36}):(0,r.tZ)(nL.iAi,{css:tc,size:36}),"웹툰"]}),(0,r.BX)("div",{css:n9({targetType:1,currentType:v}),onClick:()=>{m(()=>1)},children:[1===v?(0,r.tZ)(nX.wvC,{css:tc,size:36}):(0,r.tZ)(nX.djG,{css:tc,size:36}),"웹소설"]})]})]})]})]}),(0,r.BX)("div",{css:n3,children:[(0,r.tZ)(nE,{width:"47.5%",height:"48px",onClick:()=>{l(),a(4)},cancelTheme:!0,children:"취소"}),(0,r.tZ)(nE,{width:"47.5%",height:"48px",onClick:()=>{u({image:f,contentType:v})},children:"제출"})]})]})},n3=(0,o.iv)(nN()),n6=(0,o.iv)(nT()),n8=(0,o.iv)(nA()),n9=n=>{let{targetType:t,currentType:e}=n;return(0,o.iv)(nD(),t===e?"var(--main-color)":"var(--border-color-2)")},n7=(0,o.iv)(nO()),tn=(0,o.iv)(nY()),tt=(0,o.iv)(nG()),te=(0,o.iv)(nq()),ti=(0,o.iv)(nF()),tr=(0,o.iv)(nJ()),to=(0,o.iv)(nK()),tc=(0,o.iv)(nU()),tl=(0,o.iv)(nQ()),ta=(0,o.iv)(n$()),tu=(0,o.iv)(n0()),ts=(0,o.iv)(n1()),td=(0,o.iv)(n2()),th=(0,o.iv)(n5());function tp(){let n=(0,i.Z)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return tp=function(){return n},n}function tf(){let n=(0,i.Z)(["\n    margin-top: 16px;\n    font-size: 24px;\n"]);return tf=function(){return n},n}let tg=()=>(0,r.BX)("div",{css:tv,children:[(0,r.tZ)(nd.Z,{strokeColor:"var(--text-color)",animation:nh.Z,size:96}),(0,r.tZ)("div",{css:tm,children:"이미지를 분석중입니다."})]}),tv=(0,o.iv)(tp()),tm=(0,o.iv)(tf());var tx=e(4460);function tw(){let n=(0,i.Z)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return tw=function(){return n},n}function tb(){let n=(0,i.Z)(["\n    margin-top: 16px;\n    font-size: 32px;\n"]);return tb=function(){return n},n}let ty=n=>{let{modalHandler:t,phaseHandler:e}=n;return(0,c.useEffect)(()=>{setTimeout(()=>{t(),e(10)},2e3)},[]),(0,r.BX)("div",{css:tZ,children:[(0,r.tZ)(nd.Z,{strokeColor:"var(--text-color)",animation:tx.Z,size:96}),(0,r.tZ)("div",{css:tk,children:"저장 완료!"})]})},tZ=(0,o.iv)(tw()),tk=(0,o.iv)(tb());var tS=e(1916);function tC(){let n=(0,i.Z)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return tC=function(){return n},n}function tV(){let n=(0,i.Z)(["\n    margin: 16px;\n    font-size: 24px;\n    text-align: center;\n"]);return tV=function(){return n},n}let tz=n=>{let{modalHandler:t,phaseHandler:e,errorMessage:i,setErrorMessage:o}=n;return(0,c.useEffect)(()=>{setTimeout(()=>{o(null),e(0)},2e3)},[]),(0,r.BX)("div",{css:tI,children:[(0,r.tZ)(nd.Z,{strokeColor:"var(--text-color)",animation:tS.Z,size:96}),(0,r.tZ)("div",{css:tH,children:i})]})},tI=(0,o.iv)(tC()),tH=(0,o.iv)(tV()),t_=(n,t)=>{let e=(0,c.useRef)();(0,c.useEffect)(()=>{e.current=n},[n]),(0,c.useEffect)(()=>{if(null!==t){let n=setInterval(function(){void 0!==e.current&&e.current()},t);return()=>clearInterval(n)}},[t])};var tE=e(3750),tB=e(6441),tL=e(6167),tX=e(12);function tW(){let n=(0,i.Z)(["transform-style: preserve-3d;"]);return tW=function(){return n},n}function tj(){let n=(0,i.Z)(["display:flex; flex-direction: column; align-items:end; justify-content:space-between;"]);return tj=function(){return n},n}function tR(){let n=(0,i.Z)(["var(--back-color-2)"]);return tR=function(){return n},n}function tP(){let n=(0,i.Z)(["\n    transform: "," ;\n    position: absolute;\n    z-index: 999999999;\n    transition-property: width height;\n    will-change: width, height, left, top, transform;\n    transition-duration: 0.3s;\n    /* transition-timing-function: ease-in; */\n    overflow: hidden;\n    /* left: calc(50vw - ","px); */\n    left: ",";\n    top: ",";\n    width: ",";\n    height: ",";\n\n    ",";\n    /* background-color: white; */\n        background-color: ",";\n    border-radius: 10px;\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n    \n  "]);return tP=function(){return n},n}function tM(){let n=(0,i.Z)(["\n    /* opacity: ","; */\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    \n  "]);return tM=function(){return n},n}function tN(){let n=(0,i.Z)(['\n    width: 110%;\n    position: absolute;\n    left: -5%;\n    top: -5%;\n    height: 550px;\n    background: no-repeat url("','") 0 / cover;\n    filter: blur(10px);\n    -webkit-filter: blur(10px);\n    pointer-events: none;\n    display: flex;\n    justify-content: center;\n  ']);return tN=function(){return n},n}function tT(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 550px;\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  background: linear-gradient(rgba(0, 0, 0, 0), var(--back-color-2));\n  pointer-events: none;\n"]);return tT=function(){return n},n}function tA(){let n=(0,i.Z)(["\n    will-change: width height transform;\n    transition-property: width height transform;\n    transition-duration: 0.3s;\n    ",";\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.5);\n    width: auto;\n    height: ",";\n    min-height: ",";\n  "]);return tA=function(){return n},n}function tD(){let n=(0,i.Z)(["\n    width: 100%;\n    height: ",";\n  "]);return tD=function(){return n},n}function tO(){let n=(0,i.Z)(["\n  flex: 1 0 auto;\n  padding: 24px;\n  display: flex;\n  justify-content: space-between;\n  /* flex-direction: column; */\n"]);return tO=function(){return n},n}function tY(){let n=(0,i.Z)(["\n  font-size: 24px;\n  font-weight: 700;\n  color: var(--text-color);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  /* width: 40%; */\n"]);return tY=function(){return n},n}function tG(){let n=(0,i.Z)(["\n  font-size: 13px;\n  /* margin-top: 8px; */\n  color: var(--text-color-4);\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n"]);return tG=function(){return n},n}function tq(){let n=(0,i.Z)(["\n  /* background-color: white; */\n  color: var(--text-color-4);\n  width: 52px;\n  height: 52px;\n  cursor: pointer;\n\n  transition-property: color;\n  transition-duration: 0.3s;\n\n  &:hover {\n    color: var(--text-color-3);\n  }\n"]);return tq=function(){return n},n}function tF(){let n=(0,i.Z)(["\n  margin-top: 6px;\n  margin-bottom: 6px;\n"]);return tF=function(){return n},n}function tJ(){let n=(0,i.Z)(["\n  width: 80%;\n  height: 100%;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n"]);return tJ=function(){return n},n}function tK(){let n=(0,i.Z)(["\n\n"]);return tK=function(){return n},n}function tU(){let n=(0,i.Z)(["\n    position: fixed;\n    background-color: rgba(0, 0, 0, 0.3);\n    width: 100vw;\n    height: 100vh;\n    backdrop-filter: blur(30px);\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    opacity: ",";\n    \n  "]);return tU=function(){return n},n}function tQ(){let n=(0,i.Z)(["\n    width: ","px;\n    height: 100vh;\n    perspective: 100vw;\n    display: flex;\n    align-items: center;\n    \n\n  "]);return tQ=function(){return n},n}let t$=n=>{let{modalToggler:t,isMouseOn:e,setModalToggler:i,bookData:l,parentRef:a,imgHeight:u,imgMinHeight:s,isModalOnHandler:h,rotateY:p,waterfallWrapperRef:f,setRatingList:g,ratingList:v}=n,m=(0,c.useRef)(null),[x,w]=(0,c.useState)(!1),[b,y]=(0,c.useState)(!1),[Z,k]=(0,c.useState)(!1),[S,C,V]=(0,d.j)();(0,nI.useRouter)();let z={widthValue:V?360:460,heightValue:V?680:750};(0,c.useEffect)(()=>{!0===e&&!0===t&&(w(()=>!0),y(()=>!0))},[]);let I=()=>{!0===e&&!0===x?(setTimeout(function(){null!==m.current&&(m.current.style.opacity="0"),h(!1)},100),setTimeout(function(){i(()=>!1)},500)):i(()=>!1),w(()=>!1),k(()=>!0)},H=n=>{let t=v;t[l.bookId]=n,g(()=>t),(0,tX.K)({bookId:l.bookId,score:n})};return(0,r.tZ)("div",{css:(0,o.iv)(tW()),children:(0,r.BX)("div",{css:er({waterfallWrapperRef:f}),children:[(0,r.tZ)("div",{css:ei({isOpened:b,isClosing:Z})}),(0,r.tZ)("div",{ref:m,css:t0({modalToggler:x,parentRef:a,wrapperRef:m,widthValue:z.widthValue,heightValue:z.heightValue,rotateY:p,isOpened:b,isClosing:Z}),children:(0,r.BX)("div",{css:t1({modalToggler:t,contentToggler:x,isOpened:b}),children:[(0,r.tZ)("div",{css:t2({imgUrl:l.thumbnail})}),(0,r.tZ)("div",{css:t5,children:(0,r.tZ)("img",{src:l&&l.thumbnail,alt:l&&l.title,css:t4({modalToggler:x,parentRef:a,isClosing:Z,imgHeight:u,imgMinHeight:s,isMobile:V})})}),(0,r.tZ)("div",{css:t3({isMobile:V})}),(0,r.BX)("div",{css:t6,children:[(0,r.BX)("div",{className:"book-info",css:et,children:[(0,r.tZ)("div",{css:t8,children:l.title}),(0,r.BX)("div",{css:ee,children:[(0,r.tZ)("div",{css:en,children:(0,r.tZ)(tB.Z,{onClick:H,readonly:!1,initialValue:v[l.bookId]?v[l.bookId]:l.myScore})}),l&&(0,r.tZ)(tL.Z,{tag:l.tag,identifier:"waterfall-".concat(l.bookId)})]})]}),(0,r.BX)("div",{css:(0,o.iv)(tj()),children:[(0,r.tZ)("div",{css:t9,children:l.regist}),(0,r.tZ)(tE.Ano,{css:t7,onClick:()=>{I(),h(!1)}})]})]})]})})]})})},t0=n=>{var t,e,i,r;let{modalToggler:c,parentRef:l,wrapperRef:a,widthValue:u,heightValue:s,rotateY:d,isOpened:h,isClosing:p}=n;return(0,o.iv)(tP(),h?p?"rotateY(".concat(1.6*d,"deg)"):null:"rotateY(".concat(1.6*d,"deg)"),u/2,c?"calc(50vw - ".concat(u/2,"px)"):"".concat(null==l?void 0:null===(t=l.current)||void 0===t?void 0:t.getBoundingClientRect().left,"px"),c?"calc(50vh - ".concat(s/2,"px)"):"".concat(null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect().top,"px"),c?"".concat(u,"px"):"".concat(null==l?void 0:null===(i=l.current)||void 0===i?void 0:i.clientWidth,"px"),c?"".concat(s,"px"):"".concat(null==l?void 0:null===(r=l.current)||void 0===r?void 0:r.clientHeight,"px"),c?"pointer-events: auto":"pointer-events: none",c?(0,o.iv)(tR()):"rgba(0,0,0,0)")},t1=n=>{let{modalToggler:t,contentToggler:e,isOpened:i}=n;return(0,o.iv)(tM(),e?"255":i?"255":"0")},t2=n=>{let{imgUrl:t}=n;return(0,o.iv)(tN(),t)},t5=(0,o.iv)(tT()),t4=n=>{var t;let{modalToggler:e,parentRef:i,isClosing:r,imgHeight:c,imgMinHeight:l,isMobile:a}=n;return(0,o.iv)(tA(),e?"transform: scale(1.0)":r?"transform: scale(1.0)":"transform: scale(1.1)",e?a?"550px":"600px":"".concat(null==i?void 0:null===(t=i.current)||void 0===t?void 0:t.clientHeight,"px"),l)},t3=n=>{let{isMobile:t}=n;return(0,o.iv)(tD(),t?"550px":"600px")},t6=(0,o.iv)(tO()),t8=(0,o.iv)(tY()),t9=(0,o.iv)(tG()),t7=(0,o.iv)(tq()),en=(0,o.iv)(tF()),et=(0,o.iv)(tJ()),ee=(0,o.iv)(tK()),ei=n=>{let{isOpened:t,isClosing:e}=n;return(0,o.iv)(tU(),t?e?"0%":"100%":"0%")},er=n=>{var t;let{waterfallWrapperRef:e}=n;return(0,o.iv)(tQ(),null==e?void 0:null===(t=e.current)||void 0===t?void 0:t.clientWidth)};function eo(){let n=(0,i.Z)(["\n    ",";\n    position: relative;\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n  "]);return eo=function(){return n},n}function ec(){let n=(0,i.Z)(["\n    width: ",";\n    height: ",";\n    ",";\n    ",";\n    position: relative;\n    overflow: hidden;\n    border-radius: 10px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]);return ec=function(){return n},n}function el(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 2vw;\n  min-height: 32px;\n  background-color: rgba(0, 0, 0, 0.2);\n  position: absolute;\n  bottom: 0;\n  pointer-events: none;\n\n  display: flex;\n  align-items: center;\n"]);return el=function(){return n},n}function ea(){let n=(0,i.Z)(["\n    width: auto;\n    height: 100%;\n    transition: transform 0.3s;\n    ",";\n    &:hover {\n      transform: scale(1.1);\n    }\n  "]);return ea=function(){return n},n}function eu(){let n=(0,i.Z)(["\n    width: 100%;\n    height: 100%;\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    border-radius: 10px;\n    background-color: rgb(200, 200, 200);\n    position: absolute;\n    opacity: ",";\n    pointer-events: none;\n  "]);return eu=function(){return n},n}function es(){let n=(0,i.Z)(["\n    width: 1.3vw;\n    min-width: 20px;\n    height: auto;\n    margin: 10px;\n"]);return es=function(){return n},n}let ed=n=>{var t;let{bookData:e,showPlatform:i,width:o,height:l,minWidth:a,minHeight:u,margin:s,isModalOnHandler:d,rotateY:h,waterfallWrapperRef:p,setRatingList:f,ratingList:g}=n,[v,m]=(0,c.useState)(null);(0,nI.useRouter)();let x=(0,c.useRef)(null),[w,b]=(0,c.useState)(!1),[y,Z]=(0,c.useState)(!1),k=["https://comic.naver.com/","https://series.naver.com/","https://page.kakao.com/","https://ridibooks.com/"],S=()=>{b(()=>!0),Z(()=>!0),d(!0)},C=null==e?void 0:null===(t=e.href)||void 0===t?void 0:t.split(" ").map((n,t)=>{let e=t=>{if(n.includes(t))return!0},i=k.findIndex(e);return(0,r.tZ)("img",{src:0===i&&"/assets/platform_naver_webtoon.webp"||1===i&&"/assets/platform_naver_series.webp"||2===i&&"/assets/platform_kakao_page.png"||3===i&&"/assets/platform_ridi.webp"||"",css:em})}),V=(0,r.tZ)(nz.Z,{selector:".overlay-root",children:(0,r.tZ)(t$,{modalToggler:w,isMouseOn:y,setModalToggler:b,bookData:e,parentRef:x,imgHeight:l,imgMinHeight:u,isModalOnHandler:d,rotateY:h,waterfallWrapperRef:p,setRatingList:f,ratingList:g})}),z=(0,r.tZ)("div",{css:ef,children:e.href&&C});return(0,r.BX)("div",{className:"bookcard-outer-wrapper",css:eh({width:o,height:l,minWidth:a,minHeight:u,margin:s}),ref:x,onClick:S,children:[w&&V,(0,r.BX)("div",{className:"bookcard-inner-wrapper",css:ep({width:o,height:l,minWidth:a,minHeight:u}),children:[(0,r.tZ)("div",{css:ev({state:"LOADING"!==e})}),(0,r.tZ)("img",{className:"img",src:e&&e.thumbnail,alt:e&&e.title,css:eg({hasValue:!!g[e.bookId]})}),i&&"LOADING"!==e&&z]})]})},eh=n=>{let{width:t,height:e,minWidth:i,minHeight:r,margin:c}=n;return(0,o.iv)(eo(),c&&"margin: ".concat(c),void 0!==t?t:"auto",void 0!==e?e:"100%",i&&"min-width: ".concat(i),r&&"min-height: ".concat(r))},ep=n=>{let{width:t,height:e,minWidth:i,minHeight:r}=n;return(0,o.iv)(ec(),void 0!==t?t:"auto",void 0!==e?e:"100%",i&&"min-width: ".concat(i),r&&"min-height: ".concat(r))},ef=(0,o.iv)(el()),eg=n=>{let{hasValue:t}=n;return(0,o.iv)(ea(),t&&"filter: brightness(20%)")},ev=n=>{let{state:t}=n;return(0,o.iv)(eu(),t?"0":"255")},em=(0,o.iv)(es());function ex(){let n=(0,i.Z)(["\n    transition-property: width height;\n    transition-duration: ","ms;\n    transition-timing-function: linear;\n    position: relative;\n    width: ",";\n    height:",";\n    /* background-color: white; */\n    transform: rotateY(","deg) translateZ(20px);\n    overflow: hidden;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    will-change: width, height, transform;\n  "]);return ex=function(){return n},n}function ew(){let n=(0,i.Z)(["\n  height: 100%;\n  width: auto;\n"]);return ew=function(){return n},n}function eb(){let n=(0,i.Z)(["\n    width: auto;;\n    height: ",";\n    /* margin: 0 auto; */\n    transform-style: preserve-3d;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  "]);return eb=function(){return n},n}function ey(){let n=(0,i.Z)(["\n  width: auto;\n  height: 100%;;\n  perspective: 50vw;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  /* background-color: blue; */\n  /* margin: 0 auto; */\n"]);return ey=function(){return n},n}let eZ=n=>{let{bookData:t,identifier:e,rotate:i,duration:o}=n,[l,a]=(0,c.useState)([...t]),[u,s]=(0,c.useState)(0),[h,p,f]=(0,d.j)(),[g,v]=(0,c.useState)(!1),[m,x]=(0,c.useState)(!1),w=(0,c.useRef)(null),[b,y]=(0,c.useState)({}),Z={showCount:t.length>9?9:t.length>5&&t.length%2==0?t.length-1:t.length,width:h?20:p?30:f?40:0,height:h?30:p?45:f?60:0,heightCorrection:h?2:p?4.2:f?9:0,unit:"vw"};(0,c.useEffect)(()=>{let n=l.concat(l.slice(0,Z.showCount));a(()=>n)},[]),t_(()=>{!1===g&&(1===i?S():-1===i&&k())},void 0!==o?o:1e3);let k=()=>{u>0?s(n=>n-1):s(()=>l.length-Z.showCount-1)},S=()=>{u<l.length-Z.showCount-1?s(n=>n+1):s(()=>0)},C=n=>{v(()=>n)},V=l.slice(u,u+Z.showCount).map((n,t)=>{let i=(Math.floor(Z.showCount/2)-t)*20;return(0,r.tZ)("div",{css:ek({duration:o,responsiveLayout:Z,rotateY:i,idx:t,showCount:Z.showCount,center:Math.floor(Z.showCount/2),isDeskTop:h,isTablet:p,isMobile:f,isModalOn:g}),children:(0,r.tZ)(ed,{bookData:n,showPlatform:!0,isModalOnHandler:C,rotateY:i,waterfallWrapperRef:w,width:"95%",height:"95%",setRatingList:y,ratingList:b})},"".concat(e,"-").concat(n.title))});return(0,r.tZ)("div",{className:"carousel-outer-wrapper",css:eS({responsiveLayout:Z}),ref:w,children:(0,r.tZ)("div",{css:eC,children:V})})},ek=n=>{let{duration:t,responsiveLayout:e,rotateY:i,idx:r,showCount:c,center:l,isDeskTop:a,isTablet:u,isMobile:s,isModalOn:d}=n,h=(0===r||r===c-1)&&c>3?"0px":e.width+e.unit,p=e.height+Math.abs(l-r)*(Math.abs(l-r)*e.heightCorrection)+e.unit;return(0,o.iv)(ex(),t||"1000",h,p,i)};(0,o.iv)(ew());let eS=n=>{let{responsiveLayout:t}=n;return(0,o.iv)(eb(),t.height+t.unit)},eC=(0,o.iv)(ey());var eV=e(3087);function ez(){let n=(0,i.Z)(["width: 100%; display: flex; justify-content: center; ",""]);return ez=function(){return n},n}function eI(){let n=(0,i.Z)(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    /* justify-content: center; */\n    align-content: center;\n    /* margin-top: 50px; */\n    /* padding-top: 3vw; */\n\n\n"]);return eI=function(){return n},n}function eH(){let n=(0,i.Z)(["\n        \n        font-size: ",";\n        display: flex;\n        justify-content: center;\n        -webkit-box-align: center;\n    "]);return eH=function(){return n},n}function e_(){let n=(0,i.Z)(["\n    /* width: auto; */\n    margin-top: 30px;\n    \n\n    \n"]);return e_=function(){return n},n}function eE(){let n=(0,i.Z)(["\n        width: 100%;\n        height: ",";\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: center;\n        background-color: var(--back-color);\n        border-bottom: 1px solid var(--border-color-2);\n        /* padding-top: 20px; */\n    "]);return eE=function(){return n},n}let eB=n=>{let{bookData:t,phaseHandler:e}=n,[i,c,l]=(0,d.j)();return(0,r.BX)("div",{css:eL,children:[(0,r.BX)("div",{css:ej({isMobile:l}),children:[(0,r.tZ)(nd.Z,{strokeColor:"var(--text-color)",animation:eV.Z,size:l?64:96}),(0,r.tZ)("div",{css:eX({isMobile:l}),children:"읽은 작품들의 평가를 진행해 주세요!"})]}),(0,r.tZ)("div",{className:"waterfall-wrapper",css:eW,children:(0,r.tZ)(eZ,{bookData:t,identifier:"scanned",rotate:1,duration:2e3})}),(0,r.tZ)("div",{css:(0,o.iv)(ez(),l?"margin-top: 50px;":""),children:(0,r.tZ)(nE,{width:l?"50%":"20%",height:"64px",onClick:()=>{e(3)},children:"평가 완료"})})]})},eL=(0,o.iv)(eI()),eX=n=>{let{isMobile:t}=n;return(0,o.iv)(eH(),t?"5vw":"3vw")},eW=(0,o.iv)(e_()),ej=n=>{let{isMobile:t}=n;return(0,o.iv)(eE(),t?"40vw":"12vw")};function eR(){let n=(0,i.Z)(["\n    position: absolute;\n    /* z-index: 9; */\n    transition-property: width height;\n    will-change: width height left top transform;\n    transition-duration: 0.5s;\n    \n    /* transition-timing-function: ease-in; */\n    overflow: hidden;\n\n    width: ",";\n    height: ",";\n    left: ",";\n    top: ",";\n\n\n    ",";\n    /* background-color: white; */\n\n    background-color: var(--back-color-2);\n    border-radius: ",";\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n  "]);return eR=function(){return n},n}function eP(){let n=(0,i.Z)(["\n    /* opacity: ","; */\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n    \n  "]);return eP=function(){return n},n}function eM(){let n=(0,i.Z)(["\n    transition-property: opacity;\n    transition-duration: 0.5s;\n    opacity: ",";\n    width: 100%;\n    height: 100%;\n  "]);return eM=function(){return n},n}function eN(){let n=(0,i.Z)(["\n    position: fixed;\n    background-color: rgba(0, 0, 0, 0.3);\n    width: 100vw;\n    height: 100vh;\n    backdrop-filter: blur(10px);\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    opacity: ",";\n    \n  "]);return eN=function(){return n},n}let eT=n=>{let{modalToggler:t,isMouseOn:e,setModalToggler:i,parentRef:o,isDarkMode:l}=n,a=(0,c.useRef)(null),[u,s,h]=(0,d.j)(),[p,f]=(0,c.useState)(!1),[g,v]=(0,c.useState)(!1),[m,x]=(0,c.useState)(!1),w=(0,nI.useRouter)(),[b,y]=(0,c.useState)(0),[Z,k]=(0,c.useState)(0),[S,C]=(0,c.useState)(null),[V,z]=(0,c.useState)(null),I=n=>{y(()=>n),setTimeout(()=>{k(()=>n)},500)};(0,c.useEffect)(()=>(document.body.style.overflowY="hidden",()=>{document.body.style.overflowY="auto"}),[]);let H={widthValue:0===b?h?360:450:1===b?280:2===b?h?360:1920:300,heightValue:0===b?538:1===b?280:2===b?h?620:1080:300};(0,c.useEffect)(()=>{!0===e&&!0===t&&(f(()=>!0),v(()=>!0))},[]);let _=()=>{!0===e&&!0===p&&setTimeout(function(){null!==a.current&&(a.current.style.opacity="0")},500),setTimeout(function(){i(()=>!1)},500),f(()=>!1),x(()=>!0)};(0,c.useEffect)(()=>(w.beforePopState(n=>{let{url:t,as:e,options:i}=n;return e===w.asPath||(window.history.pushState("",""),w.push(w.asPath),_(),!1)}),()=>{w.beforePopState(()=>!0)}),[]);let E=n=>{let{image:t,contentType:e}=n;null!==t&&null!==e&&(I(1),nH({file:t,typeCode:e}).then(n=>{n&&0!==n.length?(C(()=>n),I(2)):(z(()=>"이미지에 작품이 존재하지 않는 것 같습니다!"),I(4)),console.log(n)}).catch(n=>{console.log(n),z(()=>n.message),I(4)}))};return(0,r.BX)(c.Fragment,{children:[(0,r.tZ)("div",{css:eY({isOpened:g,isClosing:m})}),(0,r.tZ)("div",{ref:a,css:eA({modalToggler:p,parentRef:o,wrapperRef:a,widthValue:H.widthValue,heightValue:H.heightValue,isClosing:m,isOpened:g}),children:(0,r.BX)("div",{className:"inner-wrapper",css:eD({modalToggler:t,contentToggler:p,isOpened:g}),children:[0===Z&&(0,r.tZ)("div",{css:eO({targetPhase:0,beforePhase:b,afterPhase:Z}),children:(0,r.tZ)(n4,{modalHandler:_,phaseHandler:I,onClickSubmitHandler:E,isDarkMode:l})}),1===Z&&(0,r.tZ)("div",{css:eO({targetPhase:1,beforePhase:b,afterPhase:Z}),children:(0,r.tZ)(tg,{})}),2===Z&&null!==S&&(0,r.tZ)("div",{css:eO({targetPhase:2,beforePhase:b,afterPhase:Z}),children:(0,r.tZ)(eB,{bookData:S,phaseHandler:I})}),3===Z&&(0,r.tZ)("div",{css:eO({targetPhase:3,beforePhase:b,afterPhase:Z}),children:(0,r.tZ)(ty,{modalHandler:_,phaseHandler:I})}),4===Z&&V&&(0,r.tZ)("div",{css:eO({targetPhase:4,beforePhase:b,afterPhase:Z}),children:(0,r.tZ)(tz,{modalHandler:_,phaseHandler:I,errorMessage:V,setErrorMessage:z})})]})})]})},eA=n=>{var t,e,i,r;let{modalToggler:c,parentRef:l,wrapperRef:a,widthValue:u,heightValue:s,isClosing:d,isOpened:h}=n;return(0,o.iv)(eR(),c?"".concat(1920===u?"100vw":u+"px"):"".concat(null==l?void 0:null===(t=l.current)||void 0===t?void 0:t.clientWidth,"px"),c?"".concat(1080===s?"100vh":s+"px"):"".concat(null==l?void 0:null===(e=l.current)||void 0===e?void 0:e.clientHeight,"px"),c?1920===u?"0px":"calc(50vw - ".concat(u/2,"px)"):"".concat(null==l?void 0:null===(i=l.current)||void 0===i?void 0:i.getBoundingClientRect().left,"px"),c?1080===s?"0px":"calc(50vh - ".concat(s/2,"px)"):"".concat(null==l?void 0:null===(r=l.current)||void 0===r?void 0:r.getBoundingClientRect().top,"px"),c?"pointer-events: auto":"pointer-events: none",c?"10px":"200px")},eD=n=>{let{modalToggler:t,contentToggler:e,isOpened:i}=n;return(0,o.iv)(eP(),e?"255":i?"255":"0")},eO=n=>{let{targetPhase:t,beforePhase:e,afterPhase:i}=n;return(0,o.iv)(eM(),e===t?"100%":"0%")},eY=n=>{let{isOpened:t,isClosing:e}=n;return(0,o.iv)(eN(),t?e?"0%":"100%":"0%")};function eG(){let n=(0,i.Z)(["\n    position: fixed;\n    width: ",";\n    height: ",";\n    background-color: var(--back-color);\n    border-radius: 200px;\n    right: ",";\n    bottom: ",";\n    z-index: 99;\n    box-shadow: 0px 0px 5px 1px rgba(150, 150, 150, 0.4);\n    display: flex;\n    visibility: ",";\n    justify-content: center;\n    padding-top: 7px;\n    cursor: pointer;\n    &:hover {\n      padding-top: 14px;\n    }\n  "]);return eG=function(){return n},n}function eq(){let n=(0,i.Z)(["\n    visibility: ",";\n    opacity: ",";\n    transition-property: opacity;\n    transition-duration: 0.5s;\n\n  "]);return eq=function(){return n},n}let eF=n=>{let{isDarkMode:t}=n,e=(0,c.useRef)(null),[i,o]=(0,c.useState)(!1),[l,a]=(0,c.useState)(!1),[u,s,h]=(0,d.j)(),p=()=>{o(()=>!0),a(()=>!0)},f=(0,r.tZ)(nz.Z,{selector:".overlay-root",children:(0,r.tZ)(eT,{modalToggler:i,isMouseOn:l,setModalToggler:o,parentRef:e,isDarkMode:t})});return(0,r.BX)("div",{css:eJ({modalToggler:i,isMobile:h}),ref:e,onClick:p,children:[i&&f,(0,r.tZ)("div",{css:eK({modalToggler:i}),children:(0,r.tZ)(nd.Z,{strokeColor:"var(--text-color)",animation:nV.Z,size:h?35:50})})]})},eJ=n=>{let{modalToggler:t,isMobile:e}=n;return(0,o.iv)(eG(),e?"60px":"80px",e?"60px":"80px",e?"20px":"40px",e?"75px":"40px",t?"hidden":"block")},eK=n=>{let{modalToggler:t}=n;return(0,o.iv)(eq(),t?"hidden":"block",t?"0%":"100%")};async function eU(n){let{typeCode:t,prevId:e,prevScore:i,size:r,token:o}=n;try{let n={};o&&(n.Authorization=o);let{data:c}=await F.EC.get("recommend/prediction?typeCode=".concat(t).concat(void 0!==e?"&prevId=".concat(e):"").concat(void 0!==i?"&prevScore=".concat(i):"").concat(void 0!==r?"&size=".concat(r):""),{headers:n});return c.data}catch(n){throw console.log(n),n}}async function eQ(n){let{typeCode:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:i}=await F.EC.get("/recommend/user?typeCode=".concat(t),{headers:n});return i.data}catch(n){throw console.log(n),n}}var e$=e(2008);async function e0(n){let{typeCode:t,prevId:e,prevRegist:i,size:r,token:o}=n;try{let n={};o&&(n.Authorization=o);let{data:c}=await F.EC.get("/recommend/newbook?typeCd=".concat(t).concat(void 0!==e?"&prevId=".concat(e):"").concat(void 0!==i?"&prevRegist=".concat(i):"").concat(void 0!==r?"&size=".concat(r):""),{headers:n});return c.data}catch(n){throw console.log(n),n}}async function e1(n){let{order:t,typeCode:e,prevId:i,prevScore:r,size:o,token:c}=n;try{let n={};c&&(n.Authorization=c);let{data:l}=await F.EC.get("/genres/total/like?typeCode=".concat(e,"&order=").concat(t).concat(void 0!==i?"&prevId=".concat(i):"").concat(void 0!==r?"&prevScore=".concat(r):"").concat(void 0!==o?"&size=".concat(o):""),{headers:n});return l.data}catch(n){throw console.log(n),n}}async function e2(n){let{hit:t,typeCode:e,prevId:i,prevScore:r,size:o,token:c}=n;try{let n={};c&&(n.Authorization=c);let{data:l}=await F.EC.get("/recommend/best30?typeCd=".concat(e).concat(void 0!==i?"&prevId=".concat(i):"").concat(void 0!==r?"&prevScore=".concat(r):"").concat(void 0!==o?"&size=".concat(o):"").concat(void 0!==t?"&hit=".concat(t):""),{headers:n});return l.data}catch(n){throw console.log(n),n}}async function e5(n){let{typeCode:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:i}=await F.EC.get("/recommend/user/ageAndGen?typeCode=".concat(t),{headers:n});return i.data}catch(n){throw console.log(n),n}}function e4(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n  background-color: red;\n\n"]);return e4=function(){return n},n}function e3(n){let{selectedGenre:t,params:e}=n,i=n=>{let{lastContent:i,size:r}=n,o=i?i.bookId:0,c=i?i.avgScore:10;return J({genreCode:t,typeCode:"webtoon"===e?0:1,prevId:o,prevScore:c,size:r})};return(0,r.tZ)(r.HY,{children:(0,r.tZ)(nx,{identifier:"sortBytDay-".concat(e,"-").concat(t),API:i},"sortByGenre-".concat(e,"-").concat(t))})}function e6(){let n=(0,i.Z)(["\n    overflow: hidden;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    padding-bottom: 64px;\n  "]);return e6=function(){return n},n}function e8(){let n=(0,i.Z)(["\n  width: 100%;\n  height: auto;\n"]);return e8=function(){return n},n}function e9(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 5vw;\n  min-height: 48px;\n"]);return e9=function(){return n},n}function e7(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 7vw;\n  min-height: 72px;\n"]);return e7=function(){return n},n}function it(){let n=(0,i.Z)(["\n  width: 100%;\n  overflow: hidden;\n"]);return it=function(){return n},n}function ie(){let n=(0,i.Z)(["\n  width: 100%;\n  max-width: 100vw;\n  display: flex;\n  justify-content: center;\n"]);return ie=function(){return n},n}function ii(){let n=(0,i.Z)(["\n  width: 100%;\n  /* overflow: hidden; */\n  border-radius: 10px; ;\n"]);return ii=function(){return n},n}function ir(){let n=(0,i.Z)(["\n    width: calc(100% - ","px);\n    /* margin: 0px 105px; */\n  "]);return ir=function(){return n},n}(0,o.iv)(e4());var io=!0;function ic(n){let{highlightedBookData:t,genres:e,params:i,isDarkMode:o,myInfo:l}=n,a=(0,c.useRef)(null),u=(0,c.useRef)(null),[s,h]=(0,c.useState)(window.sessionStorage.getItem("".concat(i,"-selected_genre"))?Number(window.sessionStorage.getItem("".concat(i,"-selected_genre"))):-2),[p,f,g]=(0,d.j)(),[v,x]=(0,c.useState)(!1),[w,b]=(0,c.useState)(window.sessionStorage.getItem("".concat(i,"-selected_day"))?Number(window.sessionStorage.getItem("".concat(i,"-selected_day"))):0);(0,c.useEffect)(()=>(window.addEventListener("scroll",y),window.addEventListener("scroll",Z),()=>{window.removeEventListener("scroll",y),window.removeEventListener("scroll",Z)}),[]);let y=(0,c.useMemo)(()=>(0,S.throttle)(()=>{u.current&&(u.current.style.pointerEvents="none"),x(()=>!0)},100),[]),Z=(0,c.useMemo)(()=>(0,S.debounce)(()=>{u.current&&(u.current.style.pointerEvents="auto"),x(()=>!1)},200),[]),k={content:[(0,r.tZ)("img",{src:g?"/assets/temp_banner_1_mobile.png":"/assets/temp_banner_1.png",alt:"",css:ia}),(0,r.tZ)("img",{src:g?"/assets/temp_banner_2_mobile.png":"/assets/temp_banner_2.png",alt:"",css:ia})]},[C,V]=(0,c.useState)([]),z=n=>{window.sessionStorage.setItem("".concat(i,"-selected_genre"),String(n)),h(()=>n)},I=n=>{window.sessionStorage.setItem("".concat(i,"-selected_day"),String(n)),b(()=>n)},H=["일","월","화","수","목","금","토"],_=n=>{let{lastContent:t,size:e}=n,r=t?t.bookId:0,o=t?t.avgScore:10;return nk({day:H[new Date().getDay()],typeCode:"webtoon"===i?0:1,prevId:r,prevScore:o,genreCode:s,size:e})},E=n=>{let{lastContent:t,size:e}=n,r=t?t.bookId:0,o=t?t.predictScore:10;return eU({typeCode:"webtoon"===i?0:1,prevId:r,prevScore:o,size:e})},B=n=>{let{lastContent:t,size:e}=n,r=t?t.bookId:2e4,o=t?t.regist:"2023.03.20";return e0({typeCode:"webtoon"===i?0:1,prevId:r,prevRegist:o,size:e})},L=n=>{let{lastContent:t,size:e}=n,r=t?t.bookId:0,o=t?t.avgScore:10;return e1({order:1,typeCode:"webtoon"===i?0:1,prevId:r,prevScore:o,size:e})},X=n=>{let{lastContent:t,size:e}=n,r=t?t.bookId:0,o=t?t.avgScore:10;return e1({order:2,typeCode:"webtoon"===i?0:1,prevId:r,prevScore:o,size:e})},W=n=>{let{lastContent:t,size:e}=n,r=t?t.bookId:2e4,o=t?t.avgScore:10,c=t?t.hit:1e3;return e2({typeCode:"webtoon"===i?0:1,prevId:r,prevScore:o,size:e,hit:c})},R=n=>{let{lastContent:t,size:e}=n;return eQ({typeCode:"webtoon"===i?0:1})},P=n=>{let{lastContent:t,size:e}=n;return(0,e$.X)({bookId:0})},M=n=>{let{lastContent:t,size:e}=n;return e5({typeCode:"webtoon"===i?0:1})},N=[{API:E,identifier:"HighPrediction-".concat(i),beforeLabel:"놀라지마세요, ",highlightedLabel:"완전 내 취향",afterLabel:" 작품을 보여줄게요",requireLogin:!0},{API:P,identifier:"Relative-".concat(i),beforeLabel:"최근 읽은 작품과  ",highlightedLabel:"비슷한",afterLabel:" 작품을 보여줄게요",requireLogin:!0},{API:L,identifier:"Top1GenreBooks-".concat(i),highlightedLabel:"가장 선호하는 장르 ",afterLabel:"를 보여줄게요",requireLogin:!0},{API:X,identifier:"Top2GenreBooks-".concat(i),highlightedLabel:"두번째 선호하는 장르",afterLabel:"를 보여줄게요",requireLogin:!0},{API:R,identifier:"PersonalRecommendation-".concat(i),highlightedLabel:"비슷한 취향",afterLabel:"을 가진 사람이 읽은 작품을 보여줄게요",requireLogin:!0},{API:M,identifier:"UserCharacteristicRecommendation-".concat(i),highlightedLabel:"".concat(l.age,"대 ").concat(0===l.gender?"남성":"여성"),afterLabel:"이 좋아하는 작품",requireLogin:!0},{API:B,identifier:"Released-".concat(i),beforeLabel:"지난 1년간  ",highlightedLabel:"새로 나온",afterLabel:" 작품",requireLogin:!1},{API:W,identifier:"Top30-".concat(i),beforeLabel:"이모들이  ",highlightedLabel:"가장 많이 조회한",afterLabel:" 작품",requireLogin:!1}],T=[{API:_,identifier:"getBooksByGenre-".concat(i,"-").concat(s),beforeLabel:"장르 추천 ",highlightedLabel:"EMOSAAC!",requireLogin:!1}],A=(0,r.BX)(r.HY,{children:[(0,r.tZ)("div",{css:iu}),(0,r.tZ)("div",{css:ip({isDeskTop:p,isTablet:f,isMobile:g}),children:(0,r.tZ)(q.Z,{beforeLabel:"당신께 ",highlightedLabel:"강력 추천하는",afterLabel:" 작품이에요",noLine:!0,marginBottom:"35px"})}),(0,r.tZ)("div",{css:ih,children:(0,r.tZ)(j,{bookData:t,windowWrapperRef:u,identifier:i},i)}),(0,r.tZ)("div",{css:is})]});return(0,r.BX)("div",{ref:u,css:il({isScrolling:v}),children:[!1!==l&&(0,r.tZ)(eF,{isDarkMode:o}),(0,r.tZ)("div",{css:id,ref:a,children:(0,r.tZ)(m,{parentRef:a,content:k})}),(0,r.tZ)($,{genres:e,selected:s,selectHandler:z}),-1===s&&(0,r.tZ)(nc,{selected:w,selectHandler:I}),-2===s&&A,-2===s&&(0,r.tZ)(ns.Z,{fetchList:N,myInfo:l}),-1===s&&(0,r.tZ)(nC,{params:i,selectedDay:w}),s>=0&&(0,r.tZ)(ns.Z,{fetchList:T,myInfo:l}),s>=0&&(0,r.tZ)(e3,{selectedGenre:s,params:i})]})}let il=n=>{let{isScrolling:t}=n;return(0,o.iv)(e6())},ia=(0,o.iv)(e8()),iu=(0,o.iv)(e9()),is=(0,o.iv)(e7()),id=(0,o.iv)(it()),ih=(0,o.iv)(ie());(0,o.iv)(ii());let ip=n=>{let{isDeskTop:t,isTablet:e,isMobile:i}=n;return(0,o.iv)(ir(),t&&210||e&&100||i&&0)}},1983:function(n){n.exports={wrapper:"SwipeableGallery_wrapper__6sK2n",moveable:"SwipeableGallery_moveable__T49jy",content:"SwipeableGallery_content__TGBBn"}}},function(n){n.O(0,[662,13,296,103,431,878,132,774,888,179],function(){return n(n.s=7548)}),_N_E=n.O()}]);