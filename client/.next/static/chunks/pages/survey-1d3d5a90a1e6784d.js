(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[859],{458:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/survey",function(){return e(4442)}])},4442:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return R}});var r=e(5893),i=e(7297),o=e(4288),c=e(917),u=e(7294);function l(){let n=(0,i.Z)(["\n  cursor: pointer;\n  width: 100%;\n  height: 35px;\n  border: none;\n  border-radius: 5px;\n  font-size: 18px;\n  padding: 0 20px;\n  background-color: var(--main-color);\n  color: var(--text-color);\n"]);return l=function(){return n},n}function a(n){let{text:t,onClick:e}=n;return(0,o.tZ)(o.HY,{children:(0,o.tZ)("button",{css:s,onClick:e,children:t})})}let s=(0,c.iv)(l());var d=e(7908);async function f(n){try{let{data:t}=await d.EC.get("/genres/research?typeCode=".concat(n));if(200===t.status)return t.data;return null}catch(n){throw n}}function h(){let n=(0,i.Z)(["\n  cursor: pointer;\n  box-sizing: border-box;\n"]);return h=function(){return n},n}function p(){let n=(0,i.Z)(["\n  /* opacity: 0.5; */\n  border: 5px solid var(--main-color);\n"]);return p=function(){return n},n}function g(){let n=(0,i.Z)(["\n  width: 100%;\n  height: 100%;\n"]);return g=function(){return n},n}let x=n=>{let{src:t,alt:e,isSelected:r,onClick:i}=n;return(0,o.tZ)("img",{src:t,alt:e,css:[v,Z,r?w:void 0],onClick:i})},v=(0,c.iv)(h()),w=(0,c.iv)(p()),Z=(0,c.iv)(g());async function m(n){let{webtoonIds:t,novelIds:e}=n;try{let{data:n}=await d.EC.post("/genres/research",{webtoonId:t,novelId:e});console.log(n)}catch(n){console.log(n)}}var y=e(1163),b=e(4932);function k(){let n=(0,i.Z)(["\n  margin-top: 50px;\n  display: flex;\n  flex-direction: ",";\n  justify-content: space-around;\n  padding: ",";\n  ","\n  align-items : ","\n"]);return k=function(){return n},n}function C(){let n=(0,i.Z)(["\n  white-space: nowrap;\n  text-align: ",";\n  font-size: ",";\n  width: ",";\n"]);return C=function(){return n},n}function _(){let n=(0,i.Z)(["\n  display: grid;\n\n  grid-template-columns: ",";\n  margin: 30px 105px;\n  grid-gap: 10px;\n  justify-content: center;\n  & > div {\n    width: 100%;\n    height: 100%;\n  }\n  & > div > img {\n    width: 100%;\n    height: 100%;\n  }\n  padding: ",";\n  margin: ",";\n"]);return _=function(){return n},n}function E(){let n=(0,i.Z)(["\n  display: flex;\n  justify-content: flex-end;\n  align-items: flex-end;\n  width: 100%;\n  height: ",";\n  margin-top: ",";\n  white-space: nowrap;\n"]);return E=function(){return n},n}function j(){let n=(0,i.Z)(["\n  margin-left: auto;\n"]);return j=function(){return n},n}function S(){let n=(0,i.Z)(["\n  margin-left: auto;\n  margin-right: 0;\n"]);return S=function(){return n},n}function I(){let n=(0,i.Z)(["\n  margin-left: 10px;\n  /* @media only screen and (max-width: 768px) {\n    width: 80%;\n    height: auto;\n  } */\n  white-space: nowrap;\n"]);return I=function(){return n},n}let z=()=>{let n=(0,y.useRouter)(),[t,e,r]=(0,b.j)(),[i,c]=(0,u.useState)(0),[l,s]=(0,u.useState)([]),[d,h]=(0,u.useState)(new Set),[p,g]=(0,u.useState)(new Set),v=()=>{c(1)},w=()=>{c(0)},Z=()=>{5===d.size&&5===p.size?(m({webtoonIds:Array.from(d),novelIds:Array.from(p)}).catch(n=>{console.log(n)}),alert("제출되었습니다! 정확한 추천을 위해 회원정보를 입력해주세요"),n.push("/mypage/edit")):alert("웹툰과 소설을 각각 5개씩 선택해주세요.")};(0,u.useEffect)(()=>{f(i).then(n=>{null!==n&&s(n)})},[i]);let k=(n,t)=>{("webtoon"===t?h:g)(t=>{let e=new Set(t);if(e.has(n))e.delete(n);else{if(e.size>=5)return alert("5개만 선택해주세요!"),t;e.add(n)}return e})};return(0,o.BX)(o.HY,{children:[(0,o.BX)("section",{css:X(t,e,r),children:[(0,o.BX)("div",{children:[0===i&&(0,o.tZ)("h1",{css:N(e,r),children:"선호하는 웹툰을 5개 선택해주세요"}),1===i&&(0,o.tZ)("h1",{css:N(e,r),children:"선호하는 웹소설을 5개 선택해주세요"}),(0,o.tZ)("div",{style:{marginTop:"10px"},children:"이모작의 추천방식에 깜짝 놀라실걸요?"})]}),(0,o.tZ)("div",{children:(0,o.tZ)("div",{css:T(t,e,r),children:0===i?(0,o.tZ)("div",{css:A,children:(0,o.tZ)(a,{text:"다음",onClick:v})}):(0,o.BX)("div",{css:T(t,e,r),children:[(0,o.tZ)("div",{css:F,children:(0,o.tZ)(a,{text:"이전",onClick:w})}),(0,o.tZ)("div",{css:H,children:(0,o.tZ)(a,{text:"제출",onClick:Z})})]})})})]}),(0,o.tZ)("section",{css:B(e,r),children:l.map(n=>(0,o.tZ)("div",{children:(0,o.tZ)(x,{src:n.thumbnail,alt:"설문조사용 웹툰/웹소설 썸네일",isSelected:(0===i?d:p).has(n.bookId),onClick:()=>k(n.bookId,0===i?"webtoon":"novel")})},n.bookId))})]})},X=(n,t,e)=>(0,c.iv)(k(),n?"row":"column",e?"10px 20px 50px":null,n?"space-around":t?"space-between":"space-around","flex-start"),N=(n,t)=>(0,c.iv)(C(),n?"left":t?"left":"null",n?"33px":t?"27px":"null",n?"100%":t?"100%":null),B=(n,t)=>(0,c.iv)(_(),n?"repeat(5,1fr)":t?"repeat(3,1fr)":"repeat(7,1fr)",t?"10px 20px 100px":"null",t?"0px":"default"),T=(n,t,e)=>(0,c.iv)(E(),n?"auto":t?"auto":"35px;","20px"),A=(0,c.iv)(j()),F=(0,c.iv)(S()),H=(0,c.iv)(I());async function O(n){try{let{data:t}=await d.EC.get("/genres?typeCode=".concat(n));if(200===t.status)return t.data;return null}catch(n){return console.log(n),null}}var P=e(6511);function Y(){return(0,u.useEffect)(()=>{O(0).then(n=>{})},[]),(0,u.useEffect)(()=>{(0,P.Z)().then(n=>{})},[]),(0,r.jsx)(r.Fragment,{})}function R(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(z,{}),(0,r.jsx)(Y,{})]})}}},function(n){n.O(0,[774,888,179],function(){return n(n.s=458)}),_N_E=n.O()}]);