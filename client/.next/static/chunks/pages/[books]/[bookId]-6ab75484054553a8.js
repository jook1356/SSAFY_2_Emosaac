(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[366],{2177:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/[books]/[bookId]",function(){return e(2927)}])},12:function(n,t,e){"use strict";e.d(t,{K:function(){return i}});var r=e(7908);async function i(n){let{bookId:t,score:e,token:i}=n;try{let n={};i&&(n.Authorization=i);let{data:o}=await r.EC.put("/books/score/".concat(t,"?score=").concat(e),{headers:n});return o.data}catch(n){throw console.log(n),n}}},2008:function(n,t,e){"use strict";e.d(t,{X:function(){return i}});var r=e(7908);async function i(n){let{bookId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:i}=await r.EC.get("/recommend/item?bookId=".concat(t),{headers:n});return i.data}catch(n){throw console.log(n),n}}},2927:function(n,t,e){"use strict";e.r(t),e.d(t,{__N_SSP:function(){return tR},default:function(){return tO}});var r,i,o=e(7297),c=e(4288),a=e(917),l=e(7294),s=e(7516),u=e(4932),d=e(7908);async function h(n){let{bookId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:r}=await d.EC.put("/books/bookmark/".concat(t),{headers:n});return r.data}catch(n){throw console.log(n),n}}async function p(n){let{bookId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:r}=await d.EC.put("/books/read-check/".concat(t),{headers:n});return r.data}catch(n){throw console.log(n),n}}var f=e(8404),v=e(9103),x=e(5993);function m(){let n=(0,o.Z)(["margin-left: 14px;"]);return m=function(){return n},n}function k(){let n=(0,o.Z)(["margin-right: 8px;"]);return k=function(){return n},n}function g(){let n=(0,o.Z)(["\n        margin-right: ",";\n        margin-bottom: 10px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n    "]);return g=function(){return n},n}function b(){let n=(0,o.Z)(["\n    color: var(--text-color);\n"]);return b=function(){return n},n}let Z=n=>{let{isClicked:t,bookId:e}=n,[r,i,o]=(0,u.j)(),[a,s]=(0,l.useState)(t),d=()=>{h({bookId:e}).then(n=>{null!==n&&s(()=>n)})};return(0,c.tZ)("div",{onClick:d,css:C({isMobile:o}),children:(0,c.tZ)(f.Z,{strokeColor:"var(--text-color)",animation:v.Z,reverse:a,size:50})})},y=n=>{let{isClicked:t,bookId:e}=n,[r,i,o]=(0,u.j)(),[s,d]=(0,l.useState)(t),h=()=>{p({bookId:e}).then(n=>{null!==n&&d(()=>n)})};return(0,c.BX)("div",{onClick:h,css:C({isMobile:o}),children:[(0,c.tZ)(f.Z,{strokeColor:"var(--text-color)",animation:x.Z,reverse:s,size:48}),(0,c.tZ)("span",{css:(0,a.iv)(m()),children:s?"읽음":"읽지 않음"})]})},w=n=>{let{bookId:t,stateHandler:e}=n,[r,i,o]=(0,u.j)(),l=(0,c.tZ)("svg",{css:(0,a.iv)(k()),width:"32",height:"32",viewBox:"0 0 43 42",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,c.tZ)("path",{d:"M31.5158 0H10.5053C4.70635 0 0 4.68534 0 10.4632V23.0275V25.1286C0 30.9065 4.70635 35.5918 10.5053 35.5918H13.6568C14.2241 35.5918 14.9805 35.97 15.3377 36.4322L18.4892 40.6133C19.8759 42.4622 22.1451 42.4622 23.5318 40.6133L26.6833 36.4322C27.0825 35.907 27.7129 35.5918 28.3642 35.5918H31.5158C37.3147 35.5918 42.021 30.9065 42.021 25.1286V10.4632C42.021 4.68534 37.3147 0 31.5158 0ZM12.6063 21.0105C11.4297 21.0105 10.5053 20.065 10.5053 18.9095C10.5053 17.7539 11.4507 16.8084 12.6063 16.8084C13.7619 16.8084 14.7074 17.7539 14.7074 18.9095C14.7074 20.065 13.7829 21.0105 12.6063 21.0105ZM21.0105 21.0105C19.8339 21.0105 18.9095 20.065 18.9095 18.9095C18.9095 17.7539 19.8549 16.8084 21.0105 16.8084C22.1661 16.8084 23.1116 17.7539 23.1116 18.9095C23.1116 20.065 22.1871 21.0105 21.0105 21.0105ZM29.4147 21.0105C28.2381 21.0105 27.3137 20.065 27.3137 18.9095C27.3137 17.7539 28.2591 16.8084 29.4147 16.8084C30.5703 16.8084 31.5158 17.7539 31.5158 18.9095C31.5158 20.065 30.5913 21.0105 29.4147 21.0105Z",fill:"var(--text-color)"})}),s=()=>{e(()=>!0)};return(0,c.tZ)("div",{css:C({isMobile:o}),onClick:s,children:l})},C=n=>{let{isMobile:t}=n;return(0,a.iv)(g(),"6px")};(0,a.iv)(b());var I=e(6167);function B(){let n=(0,o.Z)(["\n    transition-property: background-color;\n    transition-duration: 0.3s;\n    /* cursor: pointer; */\n    width: ",";\n    height: ",";\n    border: none;\n    border-radius: 5px;\n    font-size: 18px;\n    padding: 0 20px;\n    background-color: var(--main-color);\n    color: black;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n\n    &:hover .unhovered {\n        opacity: 0;\n    }\n    &:hover .hovered {\n        opacity: 255;\n    }\n    &:hover {\n        background-color: var(--main-color-2);\n    }\n  "]);return B=function(){return n},n}function S(){let n=(0,o.Z)(["\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    position: absolute;\n    opacity: 0;\n"]);return S=function(){return n},n}function E(){let n=(0,o.Z)(["\n    transition-property: opacity;\n    transition-duration: 0.3s;\n    position: absolute;\n    opacity: 255;\n"]);return E=function(){return n},n}function A(){let n=(0,o.Z)(["\n    width: 48px;\n    height: auto;\n    margin: 10px;\n"]);return A=function(){return n},n}let _=n=>{let{width:t,height:e,platform:r,href:i}=n,[o,a]=(0,l.useState)(i.split(" ")),s=["https://comic.naver.com/","https://series.naver.com/","https://page.kakao.com/","https://ridibooks.com/"],u=o.map((n,t)=>{let e=t=>{if(n.includes(t))return!0},r=s.findIndex(e);return(0,c.tZ)("a",{href:n,children:(0,c.tZ)("img",{src:0===r&&"/assets/platform_naver_webtoon.webp"||1===r&&"/assets/platform_naver_series.webp"||2===r&&"/assets/platform_kakao_page.png"||3===r&&"/assets/platform_ridi.webp"||"",css:N})})});return(0,c.BX)("div",{css:X({width:t,height:e}),children:[(0,c.tZ)("div",{className:"unhovered",css:D,children:"보러가기"}),(0,c.tZ)("div",{className:"hovered",css:z,children:u})]})},X=n=>{let{width:t,height:e}=n;return(0,a.iv)(B(),t,e)},z=(0,a.iv)(S()),D=(0,a.iv)(E()),N=(0,a.iv)(A());var V=e(6441),j=e(6826);async function T(n){let{bookId:t,criteria:e,offset:r,size:i,token:o}=n;try{let n={};o&&(n.Authorization=o);let{data:c}=await d.EC.get("/comments/parent/".concat(t).concat(void 0!==e?"?criteria=".concat(e):"").concat(void 0!==r?"&offset=".concat(r):"").concat(void 0!==i?"&size=".concat(i):""),{headers:n});return c.data}catch(n){throw n}}async function H(n){let{parentId:t,criteria:e,offset:r,size:i,token:o}=n;try{let n={};o&&(n.Authorization=o);let{data:c}=await d.EC.get("/comments/child/".concat(t).concat(void 0!==e?"?criteria=".concat(e):"").concat(void 0!==r?"&offset=".concat(r):"").concat(void 0!==i?"&size=".concat(i):""),{headers:n});return c.data}catch(n){throw n}}var G=e(6486);async function P(n){let{bookId:t,content:e,parentId:r,token:i}=n;try{let n={};i&&(n.Authorization=i);let{data:o}=await d.EC.post("/comments/".concat(t),{content:e,parentId:r,headers:n});return o.data}catch(n){throw n}}async function L(n){let{commentId:t,content:e,token:r}=n;try{let n={};r&&(n.Authorization=r);let{data:i}=await d.EC.put("/comments/".concat(t),{content:e,headers:n});return i.data}catch(n){throw n}}function M(){let n=(0,o.Z)(["\n    width: 100%;\n    height: 48px;\n    border-radius: 10px 0px 0px 10px;\n    border: none;\n    padding: 16px;\n    background-color: var(--back-color-2);\n    color: var(--text-color);\n    &:focus {outline: none;};\n\n"]);return M=function(){return n},n}function R(){let n=(0,o.Z)(["\n    background-color: var(--back-color-2);\n    width: 96px;\n    height: 48px;\n    display: flex;\n    border-radius: 0px 10px 10px 0px;\n    justify-content: center;\n    align-items: center;\n    cursor: pointer;\n    user-select: none;\n    transition-property: background-color;\n    transition-duration: 0.3s;\n    color: var(--text-color);\n\n    &:hover {\n        background-color: var(--back-color-3);\n    }\n"]);return R=function(){return n},n}function O(){let n=(0,o.Z)(["\n    display: flex;\n"]);return O=function(){return n},n}let F=n=>{let{action:t,bookId:e,parentId:r,defaultValue:i,commentId:o,refreshCommentsHandler:a}=n,s=(0,l.useRef)(null),u=()=>{s.current&&""!==s.current.value.trim()&&("post"===t?P({bookId:e,content:s.current.value,parentId:r}).then(()=>{a(),s.current&&(s.current.value="")}):"put"===t&&void 0!==o&&L({commentId:o,content:s.current.value}).then(()=>{a(),s.current&&(s.current.value="")}))};return(0,c.BX)("div",{css:q,children:[(0,c.tZ)("input",{css:K,ref:s,placeholder:"댓글을 입력해 주세요.",defaultValue:i||""}),(0,c.tZ)("div",{onClick:u,css:Y,children:"작성"})]})},K=(0,a.iv)(M()),Y=(0,a.iv)(R()),q=(0,a.iv)(O());async function J(n){let{commentId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:r}=await d.EC.delete("/comments/".concat(t),{headers:n});return r.data}catch(n){throw n}}async function W(n){let{commentId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:r}=await d.EC.put("/comments/like/".concat(t),{headers:n});return r.data}catch(n){throw n}}var Q=e(1872),U=e(9583);function $(){let n=(0,o.Z)(["width: 100%; height: auto;"]);return $=function(){return n},n}function nn(){let n=(0,o.Z)(["\n  border-bottom: 1px solid var(--back-color-op);\n"]);return nn=function(){return n},n}function nt(){let n=(0,o.Z)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 16px;\n  margin-bottom: 16px;\n"]);return nt=function(){return n},n}function ne(){let n=(0,o.Z)(["\n  display: flex;\n"]);return ne=function(){return n},n}function nr(){let n=(0,o.Z)(["\n  width: 36px;\n  height: 36px;\n  border-radius: 100px;\n  background-color: var(--back-color-op);\n  overflow: hidden;\n  margin-right: 12px;\n"]);return nr=function(){return n},n}function ni(){let n=(0,o.Z)(["\n  margin-bottom: 16px;\n  color: var(--text-color);\n"]);return ni=function(){return n},n}function no(){let n=(0,o.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 12px;\n"]);return no=function(){return n},n}function nc(){let n=(0,o.Z)(["\n  margin-right: 12px;\n  font-size: 12px;\n  color: var(--text-color-4);\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  user-select: none;\n"]);return nc=function(){return n},n}function na(){let n=(0,o.Z)(["\n    margin-left: ",";\n  "]);return na=function(){return n},n}function nl(){let n=(0,o.Z)(["\n  width: 20px;\n  height: 20px;\n  margin-right: 6px;\n"]);return nl=function(){return n},n}function ns(){let n=(0,o.Z)(["\n  font-size: 12px;\n  color: var(--text-color-4);\n"]);return ns=function(){return n},n}function nu(){let n=(0,o.Z)(["\n  margin-bottom: 16px;\n"]);return nu=function(){return n},n}function nd(){let n=(0,o.Z)(["\n  margin-top: 16px;\n  color: var(--text-color-4);\n"]);return nd=function(){return n},n}let nh=n=>{let{bookId:t,comment:e,parentId:r,refreshCommentsHandler:i,myInfo:o}=n,[s,u]=(0,l.useState)(e.likeState),[d,h]=(0,l.useState)(e.likeStatusSize),[p,f]=(0,l.useState)(!1),[v,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{console.log(o)},[]);let m=()=>{i(),f(()=>!1)},k=()=>{f(n=>!n)},g=()=>{x(n=>!n)},b=()=>{J({commentId:e.commentId}).then(()=>{m()})},Z=()=>{W({commentId:e.commentId}).then(n=>{(null==n?void 0:n.likeCount)!==void 0&&(h(()=>null==n?void 0:n.likeCount),u(()=>null==n?void 0:n.likeState))})},y=(0,c.BX)("div",{css:nf,children:[(0,c.BX)("div",{css:nv,children:[(0,c.tZ)("div",{css:nx,children:(0,c.tZ)("img",{src:e.writerInfo.profileImg,css:(0,a.iv)($())})}),(0,c.tZ)("span",{children:e.writerInfo.nickname})]}),(0,c.tZ)("span",{css:ny,children:e.createdDate})]}),w=(0,c.BX)("div",{css:nk,children:[!1===e.isDelete&&(0,c.BX)("div",{css:ng,onClick:Z,children:[s?(0,c.tZ)(Q.b8C,{css:nZ}):(0,c.tZ)(Q.K_P,{css:nZ})," ",d||"좋아요"]}),0===e.depth&&(0,c.BX)("div",{css:ng,onClick:g,children:[(0,c.tZ)(U.ZvA,{css:nZ}),"답글 보기"]}),e.writerInfo.userId===o&&!1===e.isDelete&&(0,c.tZ)("div",{css:ng,onClick:b,children:"삭제"}),e.writerInfo.userId===o&&!1===e.isDelete&&(0,c.tZ)("div",{css:ng,onClick:k,children:p?"취소":"수정"})]}),C=(0,c.tZ)(F,{action:"put",defaultValue:e.content,bookId:t,commentId:e.commentId,parentId:r,refreshCommentsHandler:m}),I=p?C:e.isDelete?(0,c.tZ)("div",{css:nw,children:"삭제된 댓글입니다."}):"".concat(e.content),B=(0,c.tZ)("div",{css:nb({depth:e.depth}),children:(0,c.tZ)(nX,{bookId:t,position:1,parentId:e.commentId,criteria:"date",myInfo:o})});return(0,c.BX)("div",{css:np,children:[!1===e.isDelete&&y,(0,c.tZ)("div",{css:nm,children:I}),w,v&&B]})},np=(0,a.iv)(nn()),nf=(0,a.iv)(nt()),nv=(0,a.iv)(ne()),nx=(0,a.iv)(nr()),nm=(0,a.iv)(ni()),nk=(0,a.iv)(no()),ng=(0,a.iv)(nc()),nb=n=>{let{depth:t}=n;return(0,a.iv)(na(),0===t?"24px":"0px")},nZ=(0,a.iv)(nl()),ny=(0,a.iv)(ns());(0,a.iv)(nu());let nw=(0,a.iv)(nd());function nC(){let n=(0,o.Z)(["\n    width: 100%;\n    height: 36px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 14px;\n    color: var(--text-color-4);\n    cursor: pointer;\n    user-select: none;\n\n"]);return nC=function(){return n},n}function nI(){let n=(0,o.Z)(["\n    margin-top: 16px;\n    margin-bottom: 16px;\n"]);return nI=function(){return n},n}function nB(){let n=(0,o.Z)(["\n    height: 64px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return nB=function(){return n},n}(r=i||(i={}))[r.PARENTS=0]="PARENTS",r[r.CHILDREN=1]="CHILDREN";let nS=n=>{var t;let{bookId:e,parentId:r,position:i,criteria:o,commentsWrapperRef:a,getCommentsCount:s,myInfo:u}=n,[d,h]=(0,l.useState)([]),[p,f]=(0,l.useState)(2),[v,x]=(0,l.useState)(!1);(0,l.useEffect)(()=>{m()},[]);let m=()=>{0===i?T({bookId:e,criteria:o}).then(n=>{if(null!==n&&(h(()=>n),f(()=>2),void 0!==s)){var t;s(null===(t=n[0])||void 0===t?void 0:t.totalCount)}}):1===i&&null!==r&&H({parentId:r,criteria:"date"}).then(n=>{null!==n&&(h(()=>n),f(()=>2))})},k=()=>{0===i?T({bookId:e,criteria:o,offset:p}).then(n=>{null!==n&&(h(t=>[...t,...n]),f(n=>n+1))}):1===i&&null!==r&&H({parentId:r,criteria:"date",offset:p}).then(n=>{null!==n&&(h(t=>[...t,...n]),f(n=>n+1))})};(0,l.useEffect)(()=>{!0===v&&(k(),x(()=>!1))},[v,d]);let g=()=>{x(()=>!0)},b=(0,l.useMemo)(()=>(0,G.throttle)(n=>{0===i&&(null==a?void 0:a.current)&&(a.current.scrollHeight-10<a.current.clientHeight||a.current.scrollTop>a.current.scrollHeight-a.current.clientHeight-100)&&g()},300),[d]),Z=()=>{g()},y=d.map((n,t)=>(0,c.tZ)(nh,{bookId:e,comment:n,parentId:n.commentId,refreshCommentsHandler:m,myInfo:u},"".concat(t).concat(n.commentId).concat(n.likeStatusSize))),w=(0,c.tZ)("div",{onClick:Z,css:nE,children:"답글 더보기 ∨"}),C=(0,c.tZ)(F,{action:"post",bookId:e,parentId:r,refreshCommentsHandler:m}),I=(0,c.tZ)("div",{css:n_,children:"댓글을 작성해 주세요!"});return(0,c.BX)("div",{ref:a,onWheel:b,onTouchMove:b,children:[0===i&&C,0!==d.length?y:I,1===i&&(0,c.tZ)("div",{css:nA,children:C}),1===i&&0!==d.length&&d.length<(null===(t=d[0])||void 0===t?void 0:t.totalCount)&&w]})},nE=(0,a.iv)(nC()),nA=(0,a.iv)(nI()),n_=(0,a.iv)(nB());var nX=nS;function nz(){let n=(0,o.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  margin-bottom: 16px;\n  display: inline-block;\n  width: 100%;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"]);return nz=function(){return n},n}function nD(){let n=(0,o.Z)(["\n    width: ",";\n    height: ",";\n    background-color: var(--back-color);\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n    /* border-radius: 20px; */\n    padding: ",";\n    display: flex;\n    flex-direction: column;\n    overflow: scroll;\n    overflow-x: hidden;\n  "]);return nD=function(){return n},n}function nN(){let n=(0,o.Z)(["\n  display: flex;\n  margin: 0px 0px 16px 0px;\n"]);return nN=function(){return n},n}function nV(){let n=(0,o.Z)(["\n    font-size: 14px;\n    color: ",";\n    margin-right: 8px;\n    cursor: pointer;\n    background-color: ",";\n\n    box-shadow: ",";\n    padding: 8px 12px 8px 12px;\n    border-radius: 20px;\n    transition-property: background-color;\n    transition-duration: 0.3s;\n  "]);return nV=function(){return n},n}let nj=n=>{let{bookTitle:t,bookId:e,modalHandler:r,myInfo:i}=n,o=(0,l.useRef)(null),[a,s,d]=(0,u.j)(),[h,p]=(0,l.useState)("like"),[f,v]=(0,l.useState)(0),x=[{criteria:"like",label:"인기순"},{criteria:"date",label:"최신순"}].map((n,t)=>(0,c.tZ)("span",{css:nP({elCriteria:n.criteria,curCriteria:h}),onClick:()=>{m(n.criteria)},children:n.label},"criteria-".concat(t))),m=n=>{p(()=>n)},k=n=>{"number"==typeof n&&v(()=>n)};return(0,c.BX)("div",{ref:o,css:nH({isMobile:d}),children:[(0,c.BX)("div",{css:nT,children:["댓글 (",f,")"]}),(0,c.tZ)("div",{css:nG,children:x}),(0,c.tZ)(nX,{bookId:e,parentId:null,position:0,criteria:h,commentsWrapperRef:o,getCommentsCount:k,myInfo:i.userId},h)]})},nT=(0,a.iv)(nz()),nH=n=>{let{isMobile:t}=n;return(0,a.iv)(nD(),t?"100vw":"60vw",t?"100vh":"90vh",t?"18px":"36px")},nG=(0,a.iv)(nN()),nP=n=>{let{elCriteria:t,curCriteria:e}=n;return(0,a.iv)(nV(),t===e?"var(--back-color-4)":"var(--text-color-4)",t===e?"var(--text-color-4)":"var(--back-color)",t===e?"none":"0 0 0 1px var(--border-color) inset")};var nL=e(12);function nM(){let n=(0,o.Z)(["\n        transition-property: opacity;\n        transition-duration: 0.3s;\n        position: absolute;\n        pointer-events: none;\n        opacity: 0%;\n        background-color: var(--back-color);\n        padding: 16px;\n        border-radius: 10px;\n        box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.15);\n        top: 48px;\n        \n        z-index: 100;\n\n    "]);return nM=function(){return n},n}function nR(){let n=(0,o.Z)(["\n    display: flex;\n    align-items: center;\n"]);return nR=function(){return n},n}function nO(){let n=(0,o.Z)(["\n    width: 64px;\n    font-size:18px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]);return nO=function(){return n},n}function nF(){let n=(0,o.Z)(["\n    width: 36px;\n    height: auto;\n    margin: 10px;\n"]);return nF=function(){return n},n}let nK=n=>{let{avgGrade:t,grade:e,href:r}=n,[i,o]=(0,l.useState)(e),[a,s]=(0,l.useState)(r.split(" ")),u=["https://comic.naver.com/","https://series.naver.com/","https://page.kakao.com/","https://ridibooks.com/"],d=a.map((n,t)=>{let e=t=>{if(n.includes(t))return!0},r=u.findIndex(e);return(0,c.BX)("div",{css:nq,children:[(0,c.tZ)("div",{css:nJ,children:(0,c.tZ)("img",{src:0===r&&"/assets/platform_naver_webtoon.webp"||1===r&&"/assets/platform_naver_series.webp"||2===r&&"/assets/platform_kakao_page.png"||3===r&&"/assets/platform_ridi.webp"||"",css:nW})}),(0,c.tZ)(V.Z,{initialValue:Number(n),readonly:!0})]})});return(0,c.BX)("div",{className:"platform-rating-wrapper",css:nY,children:[(0,c.BX)("div",{css:nq,children:[(0,c.tZ)("div",{css:nJ,children:"평균 "}),(0,c.tZ)(V.Z,{initialValue:Number(t),readonly:!0})]}),d]})},nY=()=>(0,a.iv)(nM()),nq=(0,a.iv)(nR()),nJ=(0,a.iv)(nO()),nW=(0,a.iv)(nF());var nQ=e(2008);async function nU(n){let{bookId:t,token:e}=n;try{let n={};e&&(n.Authorization=e);let{data:r}=await d.EC.get("/books/author/".concat(t),{headers:n});return r.data}catch(n){throw console.log(n),n}}var n$=e(2132);function n0(){let n=(0,o.Z)(["\n  width: 100vw;\n  /* height: 100vh; */\n  padding-bottom: 52px;\n  overflow-x: hidden;\n"]);return n0=function(){return n},n}function n1(){let n=(0,o.Z)(["\n  width: 100%;\n  height: 100%;\n\n  position: absolute;\n"]);return n1=function(){return n},n}function n2(){let n=(0,o.Z)(['\n    background: no-repeat url("','") 0 / cover;\n    filter: blur(10px);\n    -webkit-filter: blur(20px);\n    pointer-events: none;\n    position: absolute;\n    ',";\n\n    ",";\n    ",";\n    ",";\n  "]);return n2=function(){return n},n}function n3(){let n=(0,o.Z)(["\n    width: 100vw;\n    height: ",";\n    background: linear-gradient(rgba(0, 0, 0, 0) 0%, var(--back-color) 90%);\n    position: absolute;\n  "]);return n3=function(){return n},n}function n5(){let n=(0,o.Z)(["\n  width: 100vw;\n  height: 125vh;\n  background: linear-gradient(\n    to left,\n    rgba(0, 0, 0, 0) 0%,\n    var(--back-color) 60%\n  );\n  position: absolute;\n"]);return n5=function(){return n},n}function n6(){let n=(0,o.Z)(["\n    width: 100vw;\n    height: ",";\n    /* height: calc(100vh - 72px); */\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    /* padding */\n  "]);return n6=function(){return n},n}function n4(){let n=(0,o.Z)(["\n    position: relative;\n    display: grid;\n    ",";\n\n    /* background-color: red; */\n    height: ",";\n    width: 100vw;\n  "]);return n4=function(){return n},n}function n7(){let n=(0,o.Z)(["\n  width: 100%;\n  /* height: calc(100vh - 72px); */\n  display: flex;\n  justify-content: center;\n\n  align-items: center;\n"]);return n7=function(){return n},n}function n8(){let n=(0,o.Z)(["\n    ","\n\n    box-shadow: 0px 0px 10px 1px rgba(0, 0, 0, 0.2);\n  "]);return n8=function(){return n},n}function n9(){let n=(0,o.Z)(["\n    width: 100%;\n    ",";\n  "]);return n9=function(){return n},n}function tn(){let n=(0,o.Z)(["\n    display: grid;\n    grid-template-rows: "," 50%;\n    ",";\n    /* background-color: red; */\n  "]);return tn=function(){return n},n}function tt(){let n=(0,o.Z)(["\n    font-size: ",";\n    font-weight: 700;\n    margin-bottom: ",";\n    word-break: keep-all;\n  "]);return tt=function(){return n},n}function te(){let n=(0,o.Z)(["\n    font-size: ",";\n    font-weight: 500;\n    display: flex;\n    align-items: center;\n    margin-bottom: 12px;\n  "]);return te=function(){return n},n}function tr(){let n=(0,o.Z)(["\n    margin-left: 12px;\n    width: ",";\n    height: ",";\n  "]);return tr=function(){return n},n}function ti(){let n=(0,o.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: end;\n\n  /* justify-content: space-between; */\n"]);return ti=function(){return n},n}function to(){let n=(0,o.Z)(["\n  display: flex;\n"]);return to=function(){return n},n}function tc(){let n=(0,o.Z)(["\n    display: flex;\n    margin-bottom: ",";\n    margin-top: 12px;\n  "]);return tc=function(){return n},n}function ta(){let n=(0,o.Z)(["\n  font-weight: 700;\n"]);return ta=function(){return n},n}function tl(){let n=(0,o.Z)(["\n    /* width: 70%; */\n    /* height: 70px; */\n    ","\n    \n    margin-bottom: 8px;\n    line-height: 130%;\n  "]);return tl=function(){return n},n}function ts(){let n=(0,o.Z)(["\n    width: 100%;\n    ","\n  "]);return ts=function(){return n},n}function tu(){let n=(0,o.Z)(["\n  border-bottom: 1px var(--border-color-2) solid;\n  margin-bottom: 8px;\n"]);return tu=function(){return n},n}function td(){let n=(0,o.Z)(["\n  height: 100%;\n  width: 100%;\n"]);return td=function(){return n},n}function th(){let n=(0,o.Z)(["\n  /* margin-right: 4px; */\n"]);return th=function(){return n},n}function tp(){let n=(0,o.Z)(["\nheight: 100%;\ndisplay: flex;\nalign-items: center;\n  position: relative;\n  margin-right: 8px;\n\n  &:hover .platform-rating-wrapper {\n    opacity: 100%;\n  }\n"]);return tp=function(){return n},n}function tf(){let n=(0,o.Z)(["\n  margin-bottom: 24px;\n"]);return tf=function(){return n},n}function tv(){let n=(0,o.Z)(["\n  margin-bottom: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  color: var(--text-color-4);\n  cursor:pointer;\n"]);return tv=function(){return n},n}let tx=n=>{var t;let{bookData:e,myInfo:r,loginHandler:i}=n,[o,a,d]=(0,u.j)(),[h,p]=(0,l.useState)(!1),[f,v]=(0,l.useState)(!1),x=(0,l.useRef)(null),m=n=>{let{lastContent:t,size:r}=n;return(0,nQ.X)({bookId:e.bookId})},k=n=>{let{lastContent:t,size:r}=n;return nU({bookId:e.bookId})},g=[{API:m,identifier:"getRelative-".concat(e.bookId),beforeLabel:"비슷한 작품 ",highlightedLabel:"EMOSAAC!",requireLogin:!1},{API:k,identifier:"getBooksByAuthor-".concat(e.bookId),beforeLabel:"같은 작가의 작품 ",highlightedLabel:"EMOSAAC!",requireLogin:!1}];(0,l.useEffect)(()=>{console.log(r),!1===r&&i(()=>!0)},[r]);let b=(0,c.BX)("div",{css:tk,className:"third-level-el-background",children:[(0,c.tZ)("div",{css:tg({thumbnail:e.thumbnail,isDeskTop:o})}),(0,c.tZ)("div",{css:tb({isDeskTop:o}),className:"vertical-gradient"}),o&&(0,c.tZ)("div",{css:tZ})]}),C=(0,c.BX)("div",{css:tz,children:[(0,c.tZ)(w,{bookId:e.bookId,stateHandler:p}),(0,c.tZ)(Z,{bookId:e.bookId,isClicked:e.bookmark},"bookmark-toggle-".concat(e.title)),(0,c.tZ)(y,{bookId:e.bookId,isClicked:e.read},"has-been-read-toggle-".concat(e.title))]}),B=n=>{(0,nL.K)({bookId:e.bookId,score:n})},S=(0,c.tZ)("div",{className:"content",css:tB({isDeskTop:o}),children:(0,c.BX)("div",{className:"rowGrid",css:tS({isDeskTop:o}),children:[(0,c.BX)("div",{children:[!1===o&&C,(0,c.tZ)("div",{css:tE({isDeskTop:o}),children:e.title}),(0,c.BX)("div",{css:tA({isMobile:d}),children:[(0,c.tZ)("span",{css:tG,children:"내 평점 :"}),(0,c.BX)("div",{css:tP,children:[(0,c.tZ)(nK,{href:e.href,avgGrade:e.avgScore,grade:e.grade.split("_")},"rating-hover".concat(e.title)),(0,c.tZ)(s.olf,{css:t_({isMobile:d})})]}),(0,c.tZ)(V.Z,{onClick:B,readonly:!1,initialValue:e.myScore,size:d?25:32},"rating-".concat(e.title))]}),!1===o&&(0,c.tZ)("div",{css:tT})]}),(0,c.BX)("div",{css:tX,children:[(0,c.BX)("div",{css:tL,children:[o&&C,(0,c.BX)("div",{css:tD({isDeskTop:o}),children:[(0,c.BX)("div",{css:tN,children:[e.genre," \xb7 ",new Date(e.regist).getFullYear()," ","\xa0 \xa0"]}),(0,c.tZ)("div",{children:e.author})]}),(0,c.tZ)("div",{css:tV({unfoldStory:f}),ref:x,children:e.story}),x.current&&(null==x?void 0:null===(t=x.current)||void 0===t?void 0:t.innerText.length)<e.story.length&&!1===f&&(0,c.tZ)("div",{onClick:()=>{v(()=>!0)},css:tM,children:"...더보기"}),(0,c.tZ)(I.Z,{identifier:"".concat(e.bookId),tag:e.tag},"tag-".concat(e.title))]}),(0,c.tZ)("div",{css:tj({isDeskTop:o}),children:(0,c.tZ)(_,{width:d?"100%":"50%",height:"64px",platform:e.platform,href:e.href},"redir-button-".concat(e.title))})]})]})}),E=(0,c.tZ)("div",{css:tC,children:(0,c.tZ)("img",{css:tI({isDeskTop:o}),src:e.thumbnail})});return(0,c.BX)("div",{css:tm,className:"top-level-el",children:[(0,c.tZ)(j.Z,{modalState:h,stateHandler:p,content:(0,c.tZ)(nj,{bookTitle:e.title,bookId:e.bookId,myInfo:r})},"comment-".concat(e.title)),(0,c.BX)("div",{css:tH,className:"second-level-el",children:[b,(0,c.tZ)("div",{css:ty({isDeskTop:o}),className:"third-level-el",children:(0,c.tZ)("div",{css:tw({isDeskTop:o}),className:"column-grid",children:o?(0,c.BX)(c.HY,{children:[S,E]}):(0,c.BX)(c.HY,{children:[E,S]})})})]}),(0,c.tZ)(n$.Z,{fetchList:g,myInfo:r})]})},tm=(0,a.iv)(n0()),tk=(0,a.iv)(n1()),tg=n=>{let{thumbnail:t,isDeskTop:e}=n;return(0,a.iv)(n2(),t,e&&"right: 0",e?"width: 70vw":"width: 100vw",e?"height: 120vh":"height: calc(90% - 72px)",e?"opacity: 100%;":"opacity: 50%;")},tb=n=>{let{isDeskTop:t}=n;return(0,a.iv)(n3(),t?"125vh":"calc(100% - 72px)")},tZ=(0,a.iv)(n5()),ty=n=>{let{isDeskTop:t}=n;return(0,a.iv)(n6(),t?"calc(100vh - 72px)":"100%")},tw=n=>{let{isDeskTop:t}=n;return(0,a.iv)(n4(),t?"grid-template-columns: 50% 50%":"grid-template-rows: 100vw auto",t?"80vh":"auto")},tC=(0,a.iv)(n7()),tI=n=>{let{isDeskTop:t}=n;return(0,a.iv)(n8(),t?"height: 80vh; width: auto;":"height: auto; width: 70vw;")},tB=n=>{let{isDeskTop:t}=n;return(0,a.iv)(n9(),t?"padding-left: 10vw":"padding: 24px;")},tS=n=>{let{isDeskTop:t}=n;return(0,a.iv)(tn(),t?"50%":"auto",t&&"height: 100%")},tE=n=>{let{isDeskTop:t}=n;return(0,a.iv)(tt(),t?"4vw":"7vw",t?"24px":"12px")},tA=n=>{let{isMobile:t}=n;return(0,a.iv)(te(),t?"18px":"24px")},t_=n=>{let{isMobile:t}=n;return(0,a.iv)(tr(),t?"20px":"24px",t?"20px":"24px")},tX=(0,a.iv)(ti()),tz=(0,a.iv)(to()),tD=n=>{let{isDeskTop:t}=n;return(0,a.iv)(tc(),t?"24px":"12px")},tN=(0,a.iv)(ta()),tV=n=>{let{unfoldStory:t}=n;return(0,a.iv)(tl(),t?null:"\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 4;\n      overflow: hidden;\n    ")},tj=n=>{let{isDeskTop:t}=n;return(0,a.iv)(ts(),!1===t&&"display: flex; justify-content: center;")},tT=(0,a.iv)(tu()),tH=(0,a.iv)(td()),tG=(0,a.iv)(th()),tP=(0,a.iv)(tp()),tL=(0,a.iv)(tf()),tM=(0,a.iv)(tv());var tR=!0,tO=tx},9103:function(n,t,e){"use strict";t.Z=void 0;var r,i={animationData:((r=e(4560))&&r.__esModule?r:{default:r}).default,animationKey:"bookmark"};t.Z=i},5993:function(n,t,e){"use strict";t.Z=void 0;var r,i={animationData:((r=e(6255))&&r.__esModule?r:{default:r}).default,animationKey:"radioButton"};t.Z=i},4560:function(n){"use strict";n.exports=JSON.parse('{"v":"5.6.5","fr":30,"ip":0,"op":10,"w":32,"h":32,"nm":"bookmark","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"bookmark","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-1.104,0],[0,0],[0,-1.104]],"o":[[0,0],[0,0],[0,0],[0,-1.104],[0,0],[1.104,0],[0,0]],"v":[[7,9],[0,4],[-7,9],[-7,-7],[-5,-9],[5,-9],[7,-7]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":0,"s":[100,100]},{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":5,"s":[90,90]},{"t":10,"s":[100,100]}],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"bookmark","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":10,"st":0,"bm":0},{"ddd":0,"ind":2,"ty":4,"nm":"bookmark fill","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0],[0,0],[-1.104,0],[0,0],[0,-1.104]],"o":[[0,0],[0,0],[0,0],[0,-1.104],[0,0],[1.104,0],[0,0]],"v":[[7,9],[0,4],[-7,9],[-7,-7],[-5,-9],[5,-9],[7,-7]],"c":true},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"fl","c":{"a":0,"k":[0,0,0,1],"ix":4},"o":{"a":0,"k":100,"ix":5},"r":1,"bm":0,"nm":"Fill 1","mn":"ADBE Vector Graphic - Fill","hd":false},{"ty":"tr","p":{"a":0,"k":[12,12],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":2,"s":[50,50]},{"t":10,"s":[100,100]}],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":1,"k":[{"i":{"x":[0.833],"y":[0.833]},"o":{"x":[0.167],"y":[0.167]},"t":2,"s":[0]},{"t":7,"s":[100]}],"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"bookmark","np":2,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":10,"st":0,"bm":0}],"markers":[]}')},6255:function(n){"use strict";n.exports=JSON.parse('{"v":"5.6.5","fr":30,"ip":0,"op":30,"w":32,"h":32,"nm":"check-circle","ddd":0,"assets":[],"layers":[{"ddd":0,"ind":1,"ty":4,"nm":"check-circle Outlines","sr":1,"ks":{"o":{"a":0,"k":100,"ix":11},"r":{"a":0,"k":0,"ix":10},"p":{"a":0,"k":[16,16,0],"ix":2},"a":{"a":0,"k":[12,12,0],"ix":1},"s":{"a":0,"k":[100,100,100],"ix":6}},"ao":0,"shapes":[{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[3.258,0],[0,-5.522],[-5.522,0],[0,5.524],[1.254,1.671]],"o":[[-1.825,-2.412],[-5.522,0],[0,5.524],[5.523,0],[0,-2.249],[0,0]],"v":[[7.978,-6.03],[0,-10],[-10,0],[0,10],[10,0],[8.003,-5.996]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[0]},{"t":20,"s":[8]}],"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.333],"y":[0]},"t":10,"s":[100]},{"t":20,"s":[91]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[12,11.994],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":1,"k":[{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":0,"s":[100,100]},{"i":{"x":[0.667,0.667],"y":[1,1]},"o":{"x":[0.333,0.333],"y":[0,0]},"t":5,"s":[90,90]},{"t":10,"s":[100,100]}],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Cyrcle","np":3,"cix":2,"bm":0,"ix":1,"mn":"ADBE Vector Group","hd":false},{"ty":"gr","it":[{"ind":0,"ty":"sh","ix":1,"ks":{"a":0,"k":{"i":[[0,0],[0,0],[0,0]],"o":[[0,0],[0,0],[0,0]],"v":[[7,-5.5],[-4,5.5],[-7,2.5]],"c":false},"ix":2},"nm":"Path 1","mn":"ADBE Vector Shape - Group","hd":false},{"ty":"tm","s":{"a":0,"k":100,"ix":1},"e":{"a":1,"k":[{"i":{"x":[0.667],"y":[1]},"o":{"x":[0.17],"y":[0.995]},"t":15,"s":[100]},{"t":30,"s":[0]}],"ix":2},"o":{"a":0,"k":0,"ix":3},"m":1,"ix":2,"nm":"Trim Paths 1","mn":"ADBE Vector Filter - Trim","hd":false},{"ty":"st","c":{"a":0,"k":[0,0,0,1],"ix":3},"o":{"a":0,"k":100,"ix":4},"w":{"a":0,"k":2,"ix":5},"lc":2,"lj":2,"bm":0,"nm":"Stroke 1","mn":"ADBE Vector Graphic - Stroke","hd":false},{"ty":"tr","p":{"a":0,"k":[16,8.5],"ix":2},"a":{"a":0,"k":[0,0],"ix":1},"s":{"a":0,"k":[100,100],"ix":3},"r":{"a":0,"k":0,"ix":6},"o":{"a":0,"k":100,"ix":7},"sk":{"a":0,"k":0,"ix":4},"sa":{"a":0,"k":0,"ix":5},"nm":"Transform"}],"nm":"Checkmark","np":3,"cix":2,"bm":0,"ix":2,"mn":"ADBE Vector Group","hd":false}],"ip":0,"op":30,"st":0,"bm":0}],"markers":[]}')}},function(n){n.O(0,[662,13,296,994,445,874,103,878,132,774,888,179],function(){return n(n.s=2177)}),_N_E=n.O()}]);