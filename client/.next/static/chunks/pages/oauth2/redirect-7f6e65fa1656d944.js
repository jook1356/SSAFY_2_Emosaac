(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[360],{1958:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/oauth2/redirect",function(){return r(8778)}])},8778:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return i}});var o=r(1163),n=r(7294),a=r(6511);function c(e,t){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");let r=RegExp("[\\?&]"+e+"=([^&#]*)"),o=r.exec(t);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}let l=e=>{let t=(0,o.useRouter)();return(0,n.useEffect)(()=>{let e=c("token",window.location.search),r=c("error",window.location.search),o=c("code",window.location.search);console.log(o),e?(localStorage.setItem("access_token",e),(0,a.Z)().then(e=>{e&&(localStorage.setItem("userId",JSON.stringify(e.userId)),localStorage.setItem("nickname",e.nickname),localStorage.setItem("imageUrl",e.imageUrl),localStorage.setItem("gender",JSON.stringify(e.gender)),localStorage.setItem("age",JSON.stringify(e.age))),console.log(e)}).catch(e=>{console.error("Error fetching user info:",e)}),"200"===o?t.push({pathname:"/",query:{from:t.asPath}}).then(()=>{window.history.replaceState({},document.title,"/")}):"201"===o?t.push({pathname:"/survey",query:{from:t.asPath,error:r}}).then(()=>{window.history.replaceState({},document.title,"/mypage/edit")}):t.push({pathname:"/error",query:{from:t.asPath}}).then(()=>{window.history.replaceState({},document.title,"/error")})):t.push({pathname:"/login",query:{from:t.asPath,error:r}}).then(()=>{window.history.replaceState({},document.title,"/login")})},[t]),null};var i=!0;t.default=l}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1958)}),_N_E=e.O()}]);